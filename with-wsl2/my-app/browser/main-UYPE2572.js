import{$ as R,$a as p,$b as jn,A as ca,Aa as wi,Ab as Ei,B as J,Ba as ya,Bb as ka,C as la,Ca as pe,Cb as Fn,D as Me,Da as vs,Db as Da,E as da,Ea as Ci,Eb as Dt,F as ht,Fa as bs,Fb as Aa,G as In,Ga as wa,Gb as xa,H as us,Ha as Ii,Hb as Ma,I as ze,Ia as b,Ib as Ra,J as ua,Ja as C,Jb as et,K as Sn,Ka as kn,Kb as Gt,L as It,La as Ca,Lb as tt,M as Re,Ma as Dn,Mb as Oa,N as hs,Na as Tt,Nb as At,O as ha,Oa as _s,Ob as Pa,P as pa,Pa as An,Pb as Na,Q as ma,Qa as Wt,Qb as ee,R as Tn,Ra as le,Rb as Fa,S as ye,Sa as Si,Sb as ki,T as En,Ta as Ia,Tb as La,U as te,Ua as ys,Ub as ja,V as H,Va as ie,Vb as xt,W as pt,Wa as ws,Wb as Ln,X as Te,Xa as Xe,Xb as Fe,Y as I,Ya as F,Yb as qt,Z as Q,Za as me,Zb as Va,_ as fa,_a as Ee,_b as Ua,a as y,aa as ps,ab as d,ac as Ba,b as $,ba as w,bb as E,bc as it,c as ta,ca as _,cb as Ne,cc as Di,d as re,da as ms,db as A,dc as Ha,e as ia,ea as ga,eb as ke,ec as Vn,f as na,fa as bi,fb as Et,g as vi,ga as N,gb as u,h as as,ha as Z,hb as B,i as cs,ia as L,ib as ne,j as _e,ja as va,jb as Sa,k as ue,ka as Je,kb as W,l as dt,la as ba,lb as G,m as se,ma as St,mb as q,n as S,na as Oe,nb as fe,o as Ye,oa as Pe,ob as xn,p as ra,pa as V,pb as kt,q as sa,qa as U,qb as Ta,r as $e,ra as Ie,rb as Ti,s as oa,sa as fs,sb as Mn,t as k,ta as _i,tb as Ea,u as ut,ua as yi,ub as Rn,v as ce,va as he,vb as On,w as ls,wa as X,wb as Cs,x as Cn,xa as gs,xb as Pn,y as ds,ya as we,yb as Is,z as aa,za as _a,zb as Nn}from"./chunk-HSACKDSG.js";var xi=class{},Hn=class{},oe=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{let t=r.indexOf(":");if(t>0){let n=r.slice(0,t),s=n.toLowerCase(),o=r.slice(t+1).trim();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,t)=>{this.setHeaderEntries(t,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,t])=>{this.setHeaderEntries(r,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){let r=new i;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){let r=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(e.name,r);let n=(e.op==="a"?this.headers.get(r):void 0)||[];n.push(...t),this.headers.set(r,n);break;case"d":let s=e.value;if(!s)this.headers.delete(r),this.normalizedNames.delete(r);else{let o=this.headers.get(r);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,o)}break}}setHeaderEntries(e,r){let t=(Array.isArray(r)?r:[r]).map(s=>s.toString()),n=e.toLowerCase();this.headers.set(n,t),this.maybeSetNormalizedName(e,n)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}};var Ts=class{encodeKey(e){return $a(e)}encodeValue(e){return $a(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Dd(i,e){let r=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(n=>{let s=n.indexOf("="),[o,a]=s==-1?[e.decodeKey(n),""]:[e.decodeKey(n.slice(0,s)),e.decodeValue(n.slice(s+1))],l=r.get(o)||[];l.push(a),r.set(o,l)}),r}var Ad=/%(\d[a-f0-9])/gi,xd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $a(i){return encodeURIComponent(i).replace(Ad,(e,r)=>xd[r]??e)}function Un(i){return`${i}`}var Se=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ts,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Dd(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{let t=e.fromObject[r],n=Array.isArray(t)?t.map(Un):[Un(t)];this.map.set(r,n)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){let r=[];return Object.keys(e).forEach(t=>{let n=e[t];Array.isArray(n)?n.forEach(s=>{r.push({param:t,value:s,op:"a"})}):r.push({param:t,value:n,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let r=this.encoder.encodeKey(e);return this.map.get(e).map(t=>r+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let r=new i({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push(Un(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let t=this.map.get(e.param)||[],n=t.indexOf(Un(e.value));n!==-1&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Es=class{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Md(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function za(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Wa(i){return typeof Blob<"u"&&i instanceof Blob}function Ga(i){return typeof FormData<"u"&&i instanceof FormData}function Rd(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Ai=class i{constructor(e,r,t,n){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Md(this.method)||n?(this.body=t!==void 0?t:null,s=n):s=t,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new oe,this.context??=new Es,!this.params)this.params=new Se,this.urlWithParams=r;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=r;else{let a=r.indexOf("?"),l=a===-1?"?":a<r.length-1?"&":"";this.urlWithParams=r+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||za(this.body)||Wa(this.body)||Ga(this.body)||Rd(this.body)?this.body:this.body instanceof Se?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ga(this.body)?null:Wa(this.body)?this.body.type||null:za(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Se?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let r=e.method||this.method,t=e.url||this.url,n=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,m=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((h,v)=>h.set(v,e.setHeaders[v]),c)),e.setParams&&(m=Object.keys(e.setParams).reduce((h,v)=>h.set(v,e.setParams[v]),m)),new i(r,t,o,{params:m,headers:c,context:f,reportProgress:l,responseType:n,withCredentials:a,transferCache:s})}},mt=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(mt||{}),Mi=class{constructor(e,r=200,t="OK"){this.headers=e.headers||new oe,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},$n=class i extends Mi{constructor(e={}){super(e),this.type=mt.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Mt=class i extends Mi{constructor(e={}){super(e),this.type=mt.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},We=class extends Mi{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},rc=200,Od=204;function Ss(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Rt=(()=>{let e=class e{constructor(t){this.handler=t}request(t,n,s={}){let o;if(t instanceof Ai)o=t;else{let c;s.headers instanceof oe?c=s.headers:c=new oe(s.headers);let m;s.params&&(s.params instanceof Se?m=s.params:m=new Se({fromObject:s.params})),o=new Ai(t,n,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:m,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=S(o).pipe(ht(c=>this.handler.handle(c)));if(t instanceof Ai||s.observe==="events")return a;let l=a.pipe(J(c=>c instanceof Mt));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(k(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(k(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(k(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(k(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:new Se().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,s={}){return this.request("PATCH",t,Ss(s,n))}post(t,n,s={}){return this.request("POST",t,Ss(s,n))}put(t,n,s={}){return this.request("PUT",t,Ss(s,n))}};e.\u0275fac=function(n){return new(n||e)(w(xi))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),Pd=/^\)\]\}',?\n/,Nd="X-Request-URL";function qa(i){if(i.url)return i.url;let e=Nd.toLocaleLowerCase();return i.headers.get(e)}var Fd=(()=>{let e=class e{constructor(){this.fetchImpl=_(ks,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=_(X)}handle(t){return new vi(n=>{let s=new AbortController;return this.doRequest(t,s.signal,n).then(Ds,o=>n.error(new We({error:o}))),()=>s.abort()})}doRequest(t,n,s){return re(this,null,function*(){let o=this.createRequestInit(t),a;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,y({signal:n},o)));Ld(g),s.next({type:mt.Sent}),a=yield g}catch(g){s.error(new We({error:g,status:g.status??0,statusText:g.statusText,url:t.urlWithParams,headers:g.headers}));return}let l=new oe(a.headers),c=a.statusText,m=qa(a)??t.urlWithParams,f=a.status,h=null;if(t.reportProgress&&s.next(new $n({headers:l,status:f,statusText:c,url:m})),a.body){let g=a.headers.get("content-length"),x=[],T=a.body.getReader(),M=0,Y,D,z=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>re(this,null,function*(){for(;;){let{done:Ze,value:lt}=yield T.read();if(Ze)break;if(x.push(lt),M+=lt.length,t.reportProgress){D=t.responseType==="text"?(D??"")+(Y??=new TextDecoder).decode(lt,{stream:!0}):void 0;let ea=()=>s.next({type:mt.DownloadProgress,total:g?+g:void 0,loaded:M,partialText:D});z?z.run(ea):ea()}}}));let He=this.concatChunks(x,M);try{let Ze=a.headers.get("Content-Type")??"";h=this.parseBody(t,He,Ze)}catch(Ze){s.error(new We({error:Ze,headers:new oe(a.headers),status:a.status,statusText:a.statusText,url:qa(a)??t.urlWithParams}));return}}f===0&&(f=h?rc:0),f>=200&&f<300?(s.next(new Mt({body:h,headers:l,status:f,statusText:c,url:m})),s.complete()):s.error(new We({error:h,headers:l,status:f,statusText:c,url:m}))})}parseBody(t,n,s){switch(t.responseType){case"json":let o=new TextDecoder().decode(n).replace(Pd,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:s});case"arraybuffer":return n.buffer}}createRequestInit(t){let n={},s=t.withCredentials?"include":void 0;if(t.headers.forEach((o,a)=>n[o]=a.join(",")),t.headers.has("Accept")||(n.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(n["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:n,credentials:s}}concatChunks(t,n){let s=new Uint8Array(n),o=0;for(let a of t)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),ks=class{};function Ds(){}function Ld(i){i.then(Ds,Ds)}function sc(i,e){return e(i)}function jd(i,e){return(r,t)=>e.intercept(r,{handle:n=>i(n,t)})}function Vd(i,e,r){return(t,n)=>Oe(r,()=>e(t,s=>i(s,n)))}var Ri=new R(""),As=new R(""),oc=new R(""),ac=new R("",{providedIn:"root",factory:()=>!0});function Ud(){let i=null;return(e,r)=>{i===null&&(i=(_(Ri,{optional:!0})??[]).reduceRight(jd,sc));let t=_(yi);if(_(ac)){let s=t.add();return i(e,r).pipe(It(()=>t.remove(s)))}else return i(e,r)}}var Ka=(()=>{let e=class e extends xi{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=_(yi),this.contributeToStability=_(ac)}handle(t){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(As),...this.injector.get(oc,[])]));this.chain=n.reduceRight((s,o)=>Vd(s,o,this.injector),sc)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(It(()=>this.pendingTasks.remove(n)))}else return this.chain(t,n=>this.backend.handle(n))}};e.\u0275fac=function(n){return new(n||e)(w(Hn),w(St))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})();var Bd=/^\)\]\}',?\n/;function Hd(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var Qa=(()=>{let e=class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new H(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?se(n.\u0275loadImpl()):S(null)).pipe(ye(()=>new vi(o=>{let a=n.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((T,M)=>a.setRequestHeader(T,M.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let T=t.detectContentTypeHeader();T!==null&&a.setRequestHeader("Content-Type",T)}if(t.responseType){let T=t.responseType.toLowerCase();a.responseType=T!=="json"?T:"text"}let l=t.serializeBody(),c=null,m=()=>{if(c!==null)return c;let T=a.statusText||"OK",M=new oe(a.getAllResponseHeaders()),Y=Hd(a)||t.url;return c=new $n({headers:M,status:a.status,statusText:T,url:Y}),c},f=()=>{let{headers:T,status:M,statusText:Y,url:D}=m(),z=null;M!==Od&&(z=typeof a.response>"u"?a.responseText:a.response),M===0&&(M=z?rc:0);let He=M>=200&&M<300;if(t.responseType==="json"&&typeof z=="string"){let Ze=z;z=z.replace(Bd,"");try{z=z!==""?JSON.parse(z):null}catch(lt){z=Ze,He&&(He=!1,z={error:lt,text:z})}}He?(o.next(new Mt({body:z,headers:T,status:M,statusText:Y,url:D||void 0})),o.complete()):o.error(new We({error:z,headers:T,status:M,statusText:Y,url:D||void 0}))},h=T=>{let{url:M}=m(),Y=new We({error:T,status:a.status||0,statusText:a.statusText||"Unknown Error",url:M||void 0});o.error(Y)},v=!1,g=T=>{v||(o.next(m()),v=!0);let M={type:mt.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(M.total=T.total),t.responseType==="text"&&a.responseText&&(M.partialText=a.responseText),o.next(M)},x=T=>{let M={type:mt.UploadProgress,loaded:T.loaded};T.lengthComputable&&(M.total=T.total),o.next(M)};return a.addEventListener("load",f),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),t.reportProgress&&(a.addEventListener("progress",g),l!==null&&a.upload&&a.upload.addEventListener("progress",x)),a.send(l),o.next({type:mt.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",f),a.removeEventListener("timeout",h),t.reportProgress&&(a.removeEventListener("progress",g),l!==null&&a.upload&&a.upload.removeEventListener("progress",x)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(n){return new(n||e)(w(Vn))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),cc=new R(""),$d="XSRF-TOKEN",zd=new R("",{providedIn:"root",factory:()=>$d}),Wd="X-XSRF-TOKEN",Gd=new R("",{providedIn:"root",factory:()=>Wd}),zn=class{},qd=(()=>{let e=class e{constructor(t,n,s){this.doc=t,this.platform=n,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ln(t,this.cookieName),this.lastCookieString=t),this.lastToken}};e.\u0275fac=function(n){return new(n||e)(w(ee),w(pe),w(zd))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})();function Kd(i,e){let r=i.url.toLowerCase();if(!_(cc)||i.method==="GET"||i.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(i);let t=_(zn).getToken(),n=_(Gd);return t!=null&&!i.headers.has(n)&&(i=i.clone({headers:i.headers.set(n,t)})),e(i)}var lc=function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i}(lc||{});function Qd(i,e){return{\u0275kind:i,\u0275providers:e}}function dc(...i){let e=[Rt,Qa,Ka,{provide:xi,useExisting:Ka},{provide:Hn,useFactory:()=>_(Fd,{optional:!0})??_(Qa)},{provide:As,useValue:Kd,multi:!0},{provide:cc,useValue:!0},{provide:zn,useClass:qd}];for(let r of i)e.push(...r.\u0275providers);return Je(e)}var Za=new R("");function uc(){return Qd(lc.LegacyInterceptors,[{provide:Za,useFactory:Ud},{provide:As,useExisting:Za,multi:!0}])}var Zd=new R(""),Ya="b",Ja="h",Xa="s",ec="st",tc="u",ic="rt",Bn=new R(""),Yd=["GET","HEAD"];function Jd(i,e){let v=_(Bn),{isCacheActive:r}=v,t=ta(v,["isCacheActive"]),{transferCache:n,method:s}=i;if(!r||n===!1||s==="POST"&&!t.includePostRequests&&!n||s!=="POST"&&!Yd.includes(s)||!t.includeRequestsWithAuthHeaders&&Xd(i)||t.filter?.(i)===!1)return e(i);let o=_(bs),a=_(Zd,{optional:!0}),l=Di(_(pe));if(a&&!l)throw new H(2803,!1);let c=l&&a?nu(i.url,a):i.url,m=tu(i,c),f=o.get(m,null),h=t.includeHeaders;if(typeof n=="object"&&n.includeHeaders&&(h=n.includeHeaders),f){let{[Ya]:g,[ic]:x,[Ja]:T,[Xa]:M,[ec]:Y,[tc]:D}=f,z=g;switch(x){case"arraybuffer":z=new TextEncoder().encode(g).buffer;break;case"blob":z=new Blob([g]);break}let He=new oe(T);return S(new Mt({body:z,headers:He,status:M,statusText:Y,url:D}))}return e(i).pipe(te(g=>{g instanceof Mt&&l&&o.set(m,{[Ya]:g.body,[Ja]:eu(g.headers,h),[Xa]:g.status,[ec]:g.statusText,[tc]:c,[ic]:i.responseType})}))}function Xd(i){return i.headers.has("authorization")||i.headers.has("proxy-authorization")}function eu(i,e){if(!e)return{};let r={};for(let t of e){let n=i.getAll(t);n!==null&&(r[t]=n)}return r}function nc(i){return[...i.keys()].sort().map(e=>`${e}=${i.getAll(e)}`).join("&")}function tu(i,e){let{params:r,method:t,responseType:n}=i,s=nc(r),o=i.serializeBody();o instanceof URLSearchParams?o=nc(o):typeof o!="string"&&(o="");let a=[t,n,e,o,s].join("|"),l=iu(a);return l}function iu(i){let e=0;for(let r of i)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function hc(i){return[{provide:Bn,useFactory:()=>(An("NgHttpTransferCache"),y({isCacheActive:!0},i))},{provide:oc,useValue:Jd,multi:!0,deps:[bs,Bn]},{provide:Nn,multi:!0,useFactory:()=>{let e=_(Ei),r=_(Bn);return()=>{ka(e).then(()=>{r.isCacheActive=!1})}}}]}function nu(i,e){let r=new URL(i,"resolve://").origin,t=e[r];return t?i.replace(r,t):i}var Os=class extends Na{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ps=class i extends Os{static makeCurrent(){Pa(new i)}onAndCancel(e,r,t){return e.addEventListener(r,t),()=>{e.removeEventListener(r,t)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.remove()}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=su();return r==null?null:ou(r)}resetBaseElement(){Oi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ln(document.cookie,e)}},Oi=null;function su(){return Oi=Oi||document.querySelector("base"),Oi?Oi.getAttribute("href"):null}function ou(i){return new URL(i,document.baseURI).pathname}var Ns=class{addToWindow(e){pt.getAngularTestability=(t,n=!0)=>{let s=e.findTestabilityInTree(t,n);if(s==null)throw new H(5103,!1);return s},pt.getAllAngularTestabilities=()=>e.getAllTestabilities(),pt.getAllAngularRootElements=()=>e.getAllRootElements();let r=t=>{let n=pt.getAllAngularTestabilities(),s=n.length,o=function(){s--,s==0&&t()};n.forEach(a=>{a.whenStable(o)})};pt.frameworkStabilizers||(pt.frameworkStabilizers=[]),pt.frameworkStabilizers.push(r)}findTestabilityInTree(e,r,t){if(r==null)return null;let n=e.getTestability(r);return n??(t?At().isShadowRoot(r)?this.findTestabilityInTree(e,r.host,!0):this.findTestabilityInTree(e,r.parentElement,!0):null)}},au=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),Wn=new R(""),fc=(()=>{let e=class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,s){return this._findPluginFor(n).addEventListener(t,n,s)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(o=>o.supports(t)),!n)throw new H(5101,!1);return this._eventNameToPlugin.set(t,n),n}};e.\u0275fac=function(n){return new(n||e)(w(Wn),w(X))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),Pi=class{constructor(e){this._doc=e}},Ms="ng-app-id",gc=(()=>{let e=class e{constructor(t,n,s,o={}){this.doc=t,this.appId=n,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Di(o),this.resetHostNodes()}addStyles(t){for(let n of t)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(t){for(let n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){let n=this.styleRef;n.get(t)?.elements?.forEach(s=>s.remove()),n.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Ms}="${this.appId}"]`);if(t?.length){let n=new Map;return t.forEach(s=>{s.textContent!=null&&n.set(s.textContent,s)}),n}return null}changeUsageCount(t,n){let s=this.styleRef;if(s.has(t)){let o=s.get(t);return o.usage+=n,o.usage}return s.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){let s=this.styleNodesInDOM,o=s?.get(n);if(o?.parentNode===t)return s.delete(n),o.removeAttribute(Ms),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=n,this.platformIsServer&&a.setAttribute(Ms,this.appId),t.appendChild(a),a}}addStyleToHost(t,n){let s=this.getStyleElement(t,n),o=this.styleRef,a=o.get(n)?.elements;a?a.push(s):o.set(n,{elements:[s],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};e.\u0275fac=function(n){return new(n||e)(w(ee),w(wi),w(Ci,8),w(pe))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),Rs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Vs=/%COMP%/g,vc="%COMP%",cu=`_nghost-${vc}`,lu=`_ngcontent-${vc}`,du=!0,uu=new R("",{providedIn:"root",factory:()=>du});function hu(i){return lu.replace(Vs,i)}function pu(i){return cu.replace(Vs,i)}function bc(i,e){return e.map(r=>r.replace(Vs,i))}var Gn=(()=>{let e=class e{constructor(t,n,s,o,a,l,c,m=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=Di(l),this.defaultRenderer=new Ni(t,a,c,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===bi.ShadowDom&&(n=$(y({},n),{encapsulation:bi.Emulated}));let s=this.getOrCreateRenderer(t,n);return s instanceof qn?s.applyToHost(t):s instanceof Fi&&s.applyStyles(),s}getOrCreateRenderer(t,n){let s=this.rendererByCompId,o=s.get(n.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,m=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(n.encapsulation){case bi.Emulated:o=new qn(c,m,n,this.appId,f,a,l,h);break;case bi.ShadowDom:return new Fs(c,m,t,n,a,l,this.nonce,h);default:o=new Fi(c,m,n,f,a,l,h);break}s.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(n){return new(n||e)(w(fc),w(gc),w(wi),w(uu),w(ee),w(pe),w(X),w(Ci))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),Ni=class{constructor(e,r,t,n){this.eventManager=e,this.doc=r,this.ngZone=t,this.platformIsServer=n,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Rs[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(pc(e)?e.content:e).appendChild(r)}insertBefore(e,r,t){e&&(pc(e)?e.content:e).insertBefore(r,t)}removeChild(e,r){r.remove()}selectRootElement(e,r){let t=typeof e=="string"?this.doc.querySelector(e):e;if(!t)throw new H(-5104,!1);return r||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,t,n){if(n){r=n+":"+r;let s=Rs[n];s?e.setAttributeNS(s,r,t):e.setAttribute(r,t)}else e.setAttribute(r,t)}removeAttribute(e,r,t){if(t){let n=Rs[t];n?e.removeAttributeNS(n,r):e.removeAttribute(`${t}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,t,n){n&(Ii.DashCase|Ii.Important)?e.style.setProperty(r,t,n&Ii.Important?"important":""):e.style[r]=t}removeStyle(e,r,t){t&Ii.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,t){e!=null&&(e[r]=t)}setValue(e,r){e.nodeValue=r}listen(e,r,t){if(typeof e=="string"&&(e=At().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(t))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function pc(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Fs=class extends Ni{constructor(e,r,t,n,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=r,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=bc(n.id,n.styles);for(let m of c){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=m,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,t){return super.insertBefore(this.nodeOrShadowRoot(e),r,t)}removeChild(e,r){return super.removeChild(null,r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Fi=class extends Ni{constructor(e,r,t,n,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=n,this.styles=l?bc(l,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qn=class extends Fi{constructor(e,r,t,n,s,o,a,l){let c=n+"-"+t.id;super(e,r,t,s,o,a,l,c),this.contentAttr=hu(c),this.hostAttr=pu(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let t=super.createElement(e,r);return super.setAttribute(t,this.contentAttr,""),t}},mu=(()=>{let e=class e extends Pi{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,s){return t.addEventListener(n,s,!1),()=>this.removeEventListener(t,n,s)}removeEventListener(t,n,s){return t.removeEventListener(n,s)}};e.\u0275fac=function(n){return new(n||e)(w(ee))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),fu=(()=>{let e=class e extends Pi{constructor(t){super(t),this.delegate=_(Ma,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,n,s){return this.delegate.addEventListener(t,n,s)}removeEventListener(t,n,s){return this.delegate.removeEventListener(t,n,s)}};e.\u0275fac=function(n){return new(n||e)(w(ee))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),mc=["alt","control","meta","shift"],gu={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vu={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},bu=(()=>{let e=class e extends Pi{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,n,s){let o=e.parseEventName(n),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>At().onAndCancel(t,o.domEventName,a))}static parseEventName(t){let n=t.toLowerCase().split("."),s=n.shift();if(n.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(n.pop()),a="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),a="code."),mc.forEach(m=>{let f=n.indexOf(m);f>-1&&(n.splice(f,1),a+=m+".")}),a+=o,n.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(t,n){let s=gu[t.key]||t.key,o="";return n.indexOf("code.")>-1&&(s=t.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),mc.forEach(a=>{if(a!==s){let l=vu[a];l(t)&&(o+=a+".")}}),o+=s,o===n)}static eventCallback(t,n,s){return o=>{e.matchEventFullKeyCode(o,t)&&s.runGuarded(()=>n(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}};e.\u0275fac=function(n){return new(n||e)(w(ee))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})();function _u(){Ps.makeCurrent()}function yu(){return new gs}function wu(){return _a(document),document}var Cu=[{provide:pe,useValue:Ba},{provide:ya,useValue:_u,multi:!0},{provide:ee,useFactory:wu,deps:[]}],_c=Da(Aa,"browser",Cu),Iu=new R(""),Su=[{provide:Rn,useClass:Ns,deps:[]},{provide:Ea,useClass:On,deps:[X,Cs,Rn]},{provide:On,useClass:On,deps:[X,Cs,Rn]}],Tu=[{provide:ba,useValue:"root"},{provide:gs,useFactory:yu,deps:[]},{provide:Wn,useClass:mu,multi:!0,deps:[ee,X,pe]},{provide:Wn,useClass:bu,multi:!0,deps:[ee]},{provide:Wn,useClass:fu,multi:!0},Gn,gc,fc,{provide:Dn,useExisting:Gn},{provide:Vn,useClass:au,deps:[]},[]],yc=(()=>{let e=class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:wi,useValue:t.appId}]}}};e.\u0275fac=function(n){return new(n||e)(w(Iu,12))},e.\u0275mod=Z({type:e}),e.\u0275inj=Q({providers:[...Tu,...Su],imports:[jn,xa]});let i=e;return i})();var wc=(()=>{let e=class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};e.\u0275fac=function(n){return new(n||e)(w(ee))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Ls=function(i){return i[i.NoHttpTransferCache=0]="NoHttpTransferCache",i[i.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",i[i.I18nSupport=2]="I18nSupport",i[i.EventReplay=3]="EventReplay",i}(Ls||{});function Cc(...i){let e=[],r=new Set,t=r.has(Ls.HttpTransferCacheOptions);for(let{\u0275providers:n,\u0275kind:s}of i)r.add(s),n.length&&e.push(n);return Je([[],Ra(),r.has(Ls.NoHttpTransferCache)||t?[]:hc({}),e])}var Oc=(()=>{let e=class e{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(n){return new(n||e)(C(Tt),C(we))},e.\u0275dir=L({type:e});let i=e;return i})(),$i=(()=>{let e=class e extends Oc{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275dir=L({type:e,features:[le]});let i=e;return i})(),Pt=new R(""),Eu={provide:Pt,useExisting:Te(()=>Ws),multi:!0},Ws=(()=>{let e=class e extends $i{writeValue(t){this.setProperty("checked",t)}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275dir=L({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,s){n&1&&A("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[fe([Eu]),le]});let i=e;return i})(),ku={provide:Pt,useExisting:Te(()=>ge),multi:!0};function Du(){let i=At()?At().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Au=new R(""),ge=(()=>{let e=class e extends Oc{constructor(t,n,s){super(t,n),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Du())}writeValue(t){let n=t??"";this.setProperty("value",n)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(n){return new(n||e)(C(Tt),C(we),C(Au,8))},e.\u0275dir=L({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){n&1&&A("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[fe([ku]),le]});let i=e;return i})();function ft(i){return i==null||(typeof i=="string"||Array.isArray(i))&&i.length===0}function Pc(i){return i!=null&&typeof i.length=="number"}var Nt=new R(""),nr=new R(""),xu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Le=class{static min(e){return Mu(e)}static max(e){return Ru(e)}static required(e){return Nc(e)}static requiredTrue(e){return Ou(e)}static email(e){return Pu(e)}static minLength(e){return Fc(e)}static maxLength(e){return Nu(e)}static pattern(e){return Lc(e)}static nullValidator(e){return Qn(e)}static compose(e){return $c(e)}static composeAsync(e){return zc(e)}};function Mu(i){return e=>{if(ft(e.value)||ft(i))return null;let r=parseFloat(e.value);return!isNaN(r)&&r<i?{min:{min:i,actual:e.value}}:null}}function Ru(i){return e=>{if(ft(e.value)||ft(i))return null;let r=parseFloat(e.value);return!isNaN(r)&&r>i?{max:{max:i,actual:e.value}}:null}}function Nc(i){return ft(i.value)?{required:!0}:null}function Ou(i){return i.value===!0?null:{required:!0}}function Pu(i){return ft(i.value)||xu.test(i.value)?null:{email:!0}}function Fc(i){return e=>ft(e.value)||!Pc(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}function Nu(i){return e=>Pc(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}function Lc(i){if(!i)return Qn;let e,r;return typeof i=="string"?(r="",i.charAt(0)!=="^"&&(r+="^"),r+=i,i.charAt(i.length-1)!=="$"&&(r+="$"),e=new RegExp(r)):(r=i.toString(),e=i),t=>{if(ft(t.value))return null;let n=t.value;return e.test(n)?null:{pattern:{requiredPattern:r,actualValue:n}}}}function Qn(i){return null}function jc(i){return i!=null}function Vc(i){return Pn(i)?se(i):i}function Uc(i){let e={};return i.forEach(r=>{e=r!=null?y(y({},e),r):e}),Object.keys(e).length===0?null:e}function Bc(i,e){return e.map(r=>r(i))}function Fu(i){return!i.validate}function Hc(i){return i.map(e=>Fu(e)?e:r=>e.validate(r))}function $c(i){if(!i)return null;let e=i.filter(jc);return e.length==0?null:function(r){return Uc(Bc(r,e))}}function Gs(i){return i!=null?$c(Hc(i)):null}function zc(i){if(!i)return null;let e=i.filter(jc);return e.length==0?null:function(r){let t=Bc(r,e).map(Vc);return aa(t).pipe(k(Uc))}}function qs(i){return i!=null?zc(Hc(i)):null}function Sc(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function Wc(i){return i._rawValidators}function Gc(i){return i._rawAsyncValidators}function Us(i){return i?Array.isArray(i)?i:[i]:[]}function Zn(i,e){return Array.isArray(i)?i.includes(e):i===e}function Tc(i,e){let r=Us(e);return Us(i).forEach(n=>{Zn(r,n)||r.push(n)}),r}function Ec(i,e){return Us(e).filter(r=>!Zn(i,r))}var Yn=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gs(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,r){return this.control?this.control.hasError(e,r):!1}getError(e,r){return this.control?this.control.getError(e,r):null}},nt=class extends Yn{get formDirective(){return null}get path(){return null}},Ot=class extends Yn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Jn=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Lu={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eg=$(y({},Lu),{"[class.ng-submitted]":"isSubmitted"}),ve=(()=>{let e=class e extends Jn{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(C(Ot,2))},e.\u0275dir=L({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){n&2&&Ee("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[le]});let i=e;return i})(),Jt=(()=>{let e=class e extends Jn{constructor(t){super(t)}};e.\u0275fac=function(n){return new(n||e)(C(nt,10))},e.\u0275dir=L({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){n&2&&Ee("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[le]});let i=e;return i})();var Li="VALID",Kn="INVALID",Kt="PENDING",ji="DISABLED",gt=class{},Xn=class extends gt{constructor(e,r){super(),this.value=e,this.source=r}},Ui=class extends gt{constructor(e,r){super(),this.pristine=e,this.source=r}},Bi=class extends gt{constructor(e,r){super(),this.touched=e,this.source=r}},Qt=class extends gt{constructor(e,r){super(),this.status=e,this.source=r}},Bs=class extends gt{constructor(e){super(),this.source=e}},Hs=class extends gt{constructor(e){super(),this.source=e}};function Ks(i){return(rr(i)?i.validators:i)||null}function ju(i){return Array.isArray(i)?Gs(i):i||null}function Qs(i,e){return(rr(e)?e.asyncValidators:i)||null}function Vu(i){return Array.isArray(i)?qs(i):i||null}function rr(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function qc(i,e,r){let t=i.controls;if(!(e?Object.keys(t):t).length)throw new H(1e3,"");if(!t[r])throw new H(1001,"")}function Kc(i,e,r){i._forEachChild((t,n)=>{if(r[n]===void 0)throw new H(1002,"")})}var Zt=class{constructor(e,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Gt(()=>this.statusReactive()),this.statusReactive=Wt(void 0),this._pristine=Gt(()=>this.pristineReactive()),this.pristineReactive=Wt(!0),this._touched=Gt(()=>this.touchedReactive()),this.touchedReactive=Wt(!1),this._events=new _e,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return tt(this.statusReactive)}set status(e){tt(()=>this.statusReactive.set(e))}get valid(){return this.status===Li}get invalid(){return this.status===Kn}get pending(){return this.status==Kt}get disabled(){return this.status===ji}get enabled(){return this.status!==ji}get pristine(){return tt(this.pristineReactive)}set pristine(e){tt(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return tt(this.touchedReactive)}set touched(e){tt(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Tc(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Tc(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ec(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ec(e,this._rawAsyncValidators))}hasValidator(e){return Zn(this._rawValidators,e)}hasAsyncValidator(e){return Zn(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let r=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(y({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new Bi(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(r=>r.markAllAsTouched(e))}markAsUntouched(e={}){let r=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),r&&e.emitEvent!==!1&&this._events.next(new Bi(!1,t))}markAsDirty(e={}){let r=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(y({},e),{sourceControl:t})),r&&e.emitEvent!==!1&&this._events.next(new Ui(!1,t))}markAsPristine(e={}){let r=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(n=>{n.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&e.emitEvent!==!1&&this._events.next(new Ui(!0,t))}markAsPending(e={}){this.status=Kt;let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qt(this.status,r)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(y({},e),{sourceControl:r}))}disable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=ji,this.errors=null,this._forEachChild(n=>{n.disable($(y({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xn(this.value,t)),this._events.next(new Qt(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(y({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let r=this._parentMarkedDirty(e.onlySelf);this.status=Li,this._forEachChild(t=>{t.enable($(y({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(y({},e),{skipPristineCheck:r}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,r){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},r),this._parent._updateTouched({},r))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Li||this.status===Kt)&&this._runAsyncValidator(t,e.emitEvent)}let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xn(this.value,r)),this._events.next(new Qt(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(y({},e),{sourceControl:r}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ji:Li}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,r){if(this.asyncValidator){this.status=Kt,this._hasOwnPendingAsyncValidator={emitEvent:r!==!1};let t=Vc(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(n,{emitEvent:r,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,r={}){this.errors=e,this._updateControlsErrors(r.emitEvent!==!1,this,r.shouldHaveEmitted)}get(e){let r=e;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((t,n)=>t&&t._find(n),this)}getError(e,r){let t=r?this.get(r):this;return t&&t.errors?t.errors[e]:null}hasError(e,r){return!!this.getError(e,r)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,r,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new Qt(this.status,r)),this._parent&&this._parent._updateControlsErrors(e,r,t)}_initObservables(){this.valueChanges=new he,this.statusChanges=new he}_calculateStatus(){return this._allControlsDisabled()?ji:this.errors?Kn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kt)?Kt:this._anyControlsHaveStatus(Kn)?Kn:Li}_anyControlsHaveStatus(e){return this._anyControls(r=>r.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,r){let t=!this._anyControlsDirty(),n=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&this._events.next(new Ui(this.pristine,r))}_updateTouched(e={},r){this.touched=this._anyControlsTouched(),this._events.next(new Bi(this.touched,r)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rr(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let r=this._parent&&this._parent.dirty;return!e&&!!r&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ju(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Vu(this._rawAsyncValidators)}},Yt=class extends Zt{constructor(e,r,t){super(Ks(r),Qs(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,r){return this.controls[e]?this.controls[e]:(this.controls[e]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(e,r,t={}){this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(e,r,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],r&&this.registerControl(e,r),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,r={}){Kc(this,!0,e),Object.keys(e).forEach(t=>{qc(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(Object.keys(e).forEach(t=>{let n=this.controls[t];n&&n.patchValue(e[t],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e={},r={}){this._forEachChild((t,n)=>{t.reset(e?e[n]:null,{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(e,r,t)=>(e[t]=r.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(r,t)=>t._syncPendingControls()?!0:r);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(r=>{let t=this.controls[r];t&&e(t,r)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[r,t]of Object.entries(this.controls))if(this.contains(r)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(r,t,n)=>((t.enabled||this.disabled)&&(r[n]=t.value),r))}_reduceChildren(e,r){let t=e;return this._forEachChild((n,s)=>{t=r(t,n,s)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var $s=class extends Yt{};var zi=new R("CallSetDisabledState",{providedIn:"root",factory:()=>sr}),sr="always";function Qc(i,e){return[...e.path,i]}function er(i,e,r=sr){Zs(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||r==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),Bu(i,e),$u(i,e),Hu(i,e),Uu(i,e)}function kc(i,e,r=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),ir(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function tr(i,e){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(e)})}function Uu(i,e){if(e.valueAccessor.setDisabledState){let r=t=>{e.valueAccessor.setDisabledState(t)};i.registerOnDisabledChange(r),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}function Zs(i,e){let r=Wc(i);e.validator!==null?i.setValidators(Sc(r,e.validator)):typeof r=="function"&&i.setValidators([r]);let t=Gc(i);e.asyncValidator!==null?i.setAsyncValidators(Sc(t,e.asyncValidator)):typeof t=="function"&&i.setAsyncValidators([t]);let n=()=>i.updateValueAndValidity();tr(e._rawValidators,n),tr(e._rawAsyncValidators,n)}function ir(i,e){let r=!1;if(i!==null){if(e.validator!==null){let n=Wc(i);if(Array.isArray(n)&&n.length>0){let s=n.filter(o=>o!==e.validator);s.length!==n.length&&(r=!0,i.setValidators(s))}}if(e.asyncValidator!==null){let n=Gc(i);if(Array.isArray(n)&&n.length>0){let s=n.filter(o=>o!==e.asyncValidator);s.length!==n.length&&(r=!0,i.setAsyncValidators(s))}}}let t=()=>{};return tr(e._rawValidators,t),tr(e._rawAsyncValidators,t),r}function Bu(i,e){e.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&Zc(i,e)})}function Hu(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&Zc(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function Zc(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function $u(i,e){let r=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};i.registerOnChange(r),e._registerOnDestroy(()=>{i._unregisterOnChange(r)})}function Yc(i,e){i==null,Zs(i,e)}function zu(i,e){return ir(i,e)}function Jc(i,e){if(!i.hasOwnProperty("model"))return!1;let r=i.model;return r.isFirstChange()?!0:!Object.is(e,r.currentValue)}function Wu(i){return Object.getPrototypeOf(i.constructor)===$i}function Xc(i,e){i._syncPendingControls(),e.forEach(r=>{let t=r.control;t.updateOn==="submit"&&t._pendingChange&&(r.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function el(i,e){if(!e)return null;Array.isArray(e);let r,t,n;return e.forEach(s=>{s.constructor===ge?r=s:Wu(s)?t=s:n=s}),n||t||r||null}function Gu(i,e){let r=i.indexOf(e);r>-1&&i.splice(r,1)}var qu={provide:nt,useExisting:Te(()=>Wi)},Vi=Promise.resolve(),Wi=(()=>{let e=class e extends nt{get submitted(){return tt(this.submittedReactive)}constructor(t,n,s){super(),this.callSetDisabledState=s,this._submitted=Gt(()=>this.submittedReactive()),this.submittedReactive=Wt(!1),this._directives=new Set,this.ngSubmit=new he,this.form=new Yt({},Gs(t),qs(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Vi.then(()=>{let n=this._findContainer(t.path);t.control=n.registerControl(t.name,t.control),er(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Vi.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Vi.then(()=>{let n=this._findContainer(t.path),s=new Yt({});Yc(s,t),n.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Vi.then(()=>{let n=this._findContainer(t.path);n&&n.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,n){Vi.then(()=>{this.form.get(t.path).setValue(n)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Xc(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(n){return new(n||e)(C(Nt,10),C(nr,10),C(zi,8))},e.\u0275dir=L({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,s){n&1&&A("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fe([qu]),le]});let i=e;return i})();function Dc(i,e){let r=i.indexOf(e);r>-1&&i.splice(r,1)}function Ac(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Hi=class extends Zt{constructor(e=null,r,t){super(Ks(r),Qs(t,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rr(r)&&(r.nonNullable||r.initialValueIsDefault)&&(Ac(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,r={}){this.value=this._pendingValue=e,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(e,r={}){this.setValue(e,r)}reset(e=this.defaultValue,r={}){this._applyFormState(e),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Dc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Dc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Ac(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ku=i=>i instanceof Hi;var Qu={provide:Ot,useExisting:Te(()=>Ce)},xc=Promise.resolve(),Ce=(()=>{let e=class e extends Ot{constructor(t,n,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Hi,this._registered=!1,this.name="",this.update=new he,this._parent=t,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=el(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Jc(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){er(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){xc.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let n=t.isDisabled.currentValue,s=n!==0&&et(n);xc.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Qc(t,this._parent):[t]}};e.\u0275fac=function(n){return new(n||e)(C(nt,9),C(Nt,10),C(nr,10),C(Pt,10),C(Dt,8),C(zi,8))},e.\u0275dir=L({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[fe([Qu]),le,Pe]});let i=e;return i})(),Xt=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=L({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let i=e;return i})(),Zu={provide:Pt,useExisting:Te(()=>rt),multi:!0},rt=(()=>{let e=class e extends $i{writeValue(t){let n=t??"";this.setProperty("value",n)}registerOnChange(t){this.onChange=n=>{t(n==""?null:parseFloat(n))}}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275dir=L({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,s){n&1&&A("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[fe([Zu]),le]});let i=e;return i})();var tl=new R("");var Yu={provide:nt,useExisting:Te(()=>Ys)},Ys=(()=>{let e=class e extends nt{get submitted(){return tt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,n,s){super(),this.callSetDisabledState=s,this._submitted=Gt(()=>this._submittedReactive()),this._submittedReactive=Wt(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new he,this._setValidators(t),this._setAsyncValidators(n)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ir(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let n=this.form.get(t.path);return er(n,t,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),n}getControl(t){return this.form.get(t.path)}removeControl(t){kc(t.control||null,t,!1),Gu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,n){this.form.get(t.path).setValue(n)}onSubmit(t){return this._submittedReactive.set(!0),Xc(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Bs(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Hs(this.form))}_updateDomValue(){this.directives.forEach(t=>{let n=t.control,s=this.form.get(t.path);n!==s&&(kc(n||null,t),Ku(s)&&(er(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let n=this.form.get(t.path);Yc(n,t),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let n=this.form.get(t.path);n&&zu(n,t)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zs(this.form,this),this._oldForm&&ir(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(n){return new(n||e)(C(Nt,10),C(nr,10),C(zi,8))},e.\u0275dir=L({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,s){n&1&&A("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[fe([Yu]),le,Pe]});let i=e;return i})();var Ju={provide:Ot,useExisting:Te(()=>Js)},Js=(()=>{let e=class e extends Ot{set isDisabled(t){}constructor(t,n,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new he,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=el(this,o)}ngOnChanges(t){this._added||this._setUpControl(),Jc(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Qc(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(C(nt,13),C(Nt,10),C(nr,10),C(Pt,10),C(tl,8))},e.\u0275dir=L({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[fe([Ju]),le,Pe]});let i=e;return i})(),Xu={provide:Pt,useExisting:Te(()=>vt),multi:!0};function il(i,e){return i==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function eh(i){return i.split(":")[0]}var vt=(()=>{let e=class e extends $i{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let n=this._getOptionId(t),s=il(n,t);this.setProperty("value",s)}registerOnChange(t){this.onChange=n=>{this.value=this._getOptionValue(n),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),t))return n;return null}_getOptionValue(t){let n=eh(t);return this._optionMap.has(n)?this._optionMap.get(n):t}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275dir=L({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,s){n&1&&A("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[fe([Xu]),le]});let i=e;return i})(),ei=(()=>{let e=class e{constructor(t,n,s){this._element=t,this._renderer=n,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(il(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(n){return new(n||e)(C(we),C(Tt),C(vt,9))},e.\u0275dir=L({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})(),th={provide:Pt,useExisting:Te(()=>nl),multi:!0};function Mc(i,e){return i==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function ih(i){return i.split(":")[0]}var nl=(()=>{let e=class e extends $i{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let n;if(Array.isArray(t)){let s=t.map(o=>this._getOptionId(o));n=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else n=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(t){this.onChange=n=>{let s=[],o=n.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],m=this._getOptionValue(c.value);s.push(m)}}else{let a=n.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let m=this._getOptionValue(c.value);s.push(m)}}}this.value=s,t(s)}}_registerOption(t){let n=(this._idCounter++).toString();return this._optionMap.set(n,t),n}_getOptionId(t){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,t))return n;return null}_getOptionValue(t){let n=ih(t);return this._optionMap.has(n)?this._optionMap.get(n)._value:t}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275dir=L({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,s){n&1&&A("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[fe([th]),le]});let i=e;return i})(),ti=(()=>{let e=class e{constructor(t,n,s){this._element=t,this._renderer=n,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Mc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Mc(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(n){return new(n||e)(C(we),C(Tt),C(nl,9))},e.\u0275dir=L({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let i=e;return i})();function nh(i){return typeof i=="number"?i:parseInt(i,10)}var Xs=(()=>{let e=class e{constructor(){this._validator=Qn}ngOnChanges(t){if(this.inputName in t){let n=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Qn,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=L({type:e,features:[Pe]});let i=e;return i})();var rh={provide:Nt,useExisting:Te(()=>Ft),multi:!0};var Ft=(()=>{let e=class e extends Xs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=et,this.createValidator=t=>Nc}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275dir=L({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,s){n&2&&Xe("required",s._enabled?"":null)},inputs:{required:"required"},features:[fe([rh]),le]});let i=e;return i})();var sh={provide:Nt,useExisting:Te(()=>Gi),multi:!0},Gi=(()=>{let e=class e extends Xs{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>nh(t),this.createValidator=t=>Fc(t)}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275dir=L({type:e,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(n,s){n&2&&Xe("minlength",s._enabled?s.minlength:null)},inputs:{minlength:"minlength"},features:[fe([sh]),le]});let i=e;return i})();var oh={provide:Nt,useExisting:Te(()=>eo),multi:!0},eo=(()=>{let e=class e extends Xs{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>Lc(t)}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275dir=L({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,s){n&2&&Xe("pattern",s._enabled?s.pattern:null)},inputs:{pattern:"pattern"},features:[fe([oh]),le]});let i=e;return i})();var rl=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Q({});let i=e;return i})(),zs=class extends Zt{constructor(e,r,t){super(Ks(r),Qs(t,r)),this.controls=e,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,r={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(e,r,t={}){this.controls.splice(e,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:t.emitEvent})}removeAt(e,r={}){let t=this._adjustIndex(e);t<0&&(t=0),this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(e,r,t={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,r={}){Kc(this,!1,e),e.forEach((t,n)=>{qc(this,!1,n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(e,r={}){e!=null&&(e.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(e=[],r={}){this._forEachChild((t,n)=>{t.reset(e[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r,this),this._updateTouched(r,this),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((r,t)=>t._syncPendingControls()?!0:r,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((r,t)=>{e(r,t)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(r=>r.enabled&&e(r))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Rc(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var sl=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,n=null){let s=this._reduceControls(t),o={};return Rc(n)?o=n:n!==null&&(o.validators=n.validator,o.asyncValidators=n.asyncValidator),new Yt(s,o)}record(t,n=null){let s=this._reduceControls(t);return new $s(s,n)}control(t,n,s){let o={};return this.useNonNullable?(Rc(n)?o=n:(o.validators=n,o.asyncValidators=s),new Hi(t,$(y({},o),{nonNullable:!0}))):new Hi(t,n,s)}array(t,n,s){let o=t.map(a=>this._createControl(a));return new zs(o,n,s)}_reduceControls(t){let n={};return Object.keys(t).forEach(s=>{n[s]=this._createControl(t[s])}),n}_createControl(t){if(t instanceof Hi)return t;if(t instanceof Zt)return t;if(Array.isArray(t)){let n=t[0],s=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(n,s,o)}else return this.control(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ol=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:zi,useValue:t.callSetDisabledState??sr}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Q({imports:[rl]});let i=e;return i})(),al=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:tl,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:zi,useValue:t.callSetDisabledState??sr}]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Q({imports:[rl]});let i=e;return i})();var O="primary",an=Symbol("RouteTitle"),so=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function ai(i){return new so(i)}function ch(i,e,r){let t=r.path.split("/");if(t.length>i.length||r.pathMatch==="full"&&(e.hasChildren()||t.length<i.length))return null;let n={};for(let s=0;s<t.length;s++){let o=t[s],a=i[s];if(o[0]===":")n[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,t.length),posParams:n}}function lh(i,e){if(i.length!==e.length)return!1;for(let r=0;r<i.length;++r)if(!qe(i[r],e[r]))return!1;return!0}function qe(i,e){let r=i?oo(i):void 0,t=e?oo(e):void 0;if(!r||!t||r.length!=t.length)return!1;let n;for(let s=0;s<r.length;s++)if(n=r[s],!yl(i[n],e[n]))return!1;return!0}function oo(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function yl(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let r=[...i].sort(),t=[...e].sort();return r.every((n,s)=>t[s]===n)}else return i===e}function wl(i){return i.length>0?i[i.length-1]:null}function yt(i){return ra(i)?i:Pn(i)?se(Promise.resolve(i)):S(i)}var dh={exact:Il,subset:Sl},Cl={exact:uh,subset:hh,ignored:()=>!0};function cl(i,e,r){return dh[r.paths](i.root,e.root,r.matrixParams)&&Cl[r.queryParams](i.queryParams,e.queryParams)&&!(r.fragment==="exact"&&i.fragment!==e.fragment)}function uh(i,e){return qe(i,e)}function Il(i,e,r){if(!jt(i.segments,e.segments)||!cr(i.segments,e.segments,r)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let t in e.children)if(!i.children[t]||!Il(i.children[t],e.children[t],r))return!1;return!0}function hh(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(r=>yl(i[r],e[r]))}function Sl(i,e,r){return Tl(i,e,e.segments,r)}function Tl(i,e,r,t){if(i.segments.length>r.length){let n=i.segments.slice(0,r.length);return!(!jt(n,r)||e.hasChildren()||!cr(n,r,t))}else if(i.segments.length===r.length){if(!jt(i.segments,r)||!cr(i.segments,r,t))return!1;for(let n in e.children)if(!i.children[n]||!Sl(i.children[n],e.children[n],t))return!1;return!0}else{let n=r.slice(0,i.segments.length),s=r.slice(i.segments.length);return!jt(i.segments,n)||!cr(i.segments,n,t)||!i.children[O]?!1:Tl(i.children[O],e,s,t)}}function cr(i,e,r){return e.every((t,n)=>Cl[r](i[n].parameters,t.parameters))}var ot=class{constructor(e=new j([],{}),r={},t=null){this.root=e,this.queryParams=r,this.fragment=t}get queryParamMap(){return this._queryParamMap??=ai(this.queryParams),this._queryParamMap}toString(){return fh.serialize(this)}},j=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lr(this)}},Lt=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=ai(this.parameters),this._parameterMap}toString(){return kl(this)}};function ph(i,e){return jt(i,e)&&i.every((r,t)=>qe(r.parameters,e[t].parameters))}function jt(i,e){return i.length!==e.length?!1:i.every((r,t)=>r.path===e[t].path)}function mh(i,e){let r=[];return Object.entries(i.children).forEach(([t,n])=>{t===O&&(r=r.concat(e(n,t)))}),Object.entries(i.children).forEach(([t,n])=>{t!==O&&(r=r.concat(e(n,t)))}),r}var cn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:()=>new ci,providedIn:"root"});let i=e;return i})(),ci=class{parse(e){let r=new co(e);return new ot(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${qi(e.root,!0)}`,t=bh(e.queryParams),n=typeof e.fragment=="string"?`#${gh(e.fragment)}`:"";return`${r}${t}${n}`}},fh=new ci;function lr(i){return i.segments.map(e=>kl(e)).join("/")}function qi(i,e){if(!i.hasChildren())return lr(i);if(e){let r=i.children[O]?qi(i.children[O],!1):"",t=[];return Object.entries(i.children).forEach(([n,s])=>{n!==O&&t.push(`${n}:${qi(s,!1)}`)}),t.length>0?`${r}(${t.join("//")})`:r}else{let r=mh(i,(t,n)=>n===O?[qi(i.children[O],!1)]:[`${n}:${qi(t,!1)}`]);return Object.keys(i.children).length===1&&i.children[O]!=null?`${lr(i)}/${r[0]}`:`${lr(i)}/(${r.join("//")})`}}function El(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function or(i){return El(i).replace(/%3B/gi,";")}function gh(i){return encodeURI(i)}function ao(i){return El(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dr(i){return decodeURIComponent(i)}function ll(i){return dr(i.replace(/\+/g,"%20"))}function kl(i){return`${ao(i.path)}${vh(i.parameters)}`}function vh(i){return Object.entries(i).map(([e,r])=>`;${ao(e)}=${ao(r)}`).join("")}function bh(i){let e=Object.entries(i).map(([r,t])=>Array.isArray(t)?t.map(n=>`${or(r)}=${or(n)}`).join("&"):`${or(r)}=${or(t)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var _h=/^[^\/()?;#]+/;function to(i){let e=i.match(_h);return e?e[0]:""}var yh=/^[^\/()?;=#]+/;function wh(i){let e=i.match(yh);return e?e[0]:""}var Ch=/^[^=?&#]+/;function Ih(i){let e=i.match(Ch);return e?e[0]:""}var Sh=/^[^&#]+/;function Th(i){let e=i.match(Sh);return e?e[0]:""}var co=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new j([],{}):new j([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(t[O]=new j(e,r)),t}parseSegment(){let e=to(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Lt(dr(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=wh(this.remaining);if(!r)return;this.capture(r);let t="";if(this.consumeOptional("=")){let n=to(this.remaining);n&&(t=n,this.capture(t))}e[dr(r)]=dr(t)}parseQueryParam(e){let r=Ih(this.remaining);if(!r)return;this.capture(r);let t="";if(this.consumeOptional("=")){let o=Th(this.remaining);o&&(t=o,this.capture(t))}let n=ll(r),s=ll(t);if(e.hasOwnProperty(n)){let o=e[n];Array.isArray(o)||(o=[o],e[n]=o),o.push(s)}else e[n]=s}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=to(this.remaining),n=this.remaining[t.length];if(n!=="/"&&n!==")"&&n!==";")throw new H(4010,!1);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=O);let o=this.parseChildren();r[s]=Object.keys(o).length===1?o[O]:new j([],o),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function Dl(i){return i.segments.length>0?new j([],{[O]:i}):i}function Al(i){let e={};for(let[t,n]of Object.entries(i.children)){let s=Al(n);if(t===O&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[t]=s)}let r=new j(i.segments,e);return Eh(r)}function Eh(i){if(i.numberOfChildren===1&&i.children[O]){let e=i.children[O];return new j(i.segments.concat(e.segments),e.children)}return i}function Vt(i){return i instanceof ot}function Ro(i,e,r=null,t=null){let n=xl(i);return Ml(n,e,r,t)}function xl(i){let e;function r(s){let o={};for(let l of s.children){let c=r(l);o[l.outlet]=c}let a=new j(s.url,o);return s===i&&(e=a),a}let t=r(i.root),n=Dl(t);return e??n}function Ml(i,e,r,t){let n=i;for(;n.parent;)n=n.parent;if(e.length===0)return io(n,n,n,r,t);let s=kh(e);if(s.toRoot())return io(n,n,new j([],{}),r,t);let o=Dh(s,n,i),a=o.processChildren?Zi(o.segmentGroup,o.index,s.commands):Ol(o.segmentGroup,o.index,s.commands);return io(n,o.segmentGroup,a,r,t)}function ur(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Xi(i){return typeof i=="object"&&i!=null&&i.outlets}function io(i,e,r,t,n){let s={};t&&Object.entries(t).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(m=>`${m}`):`${c}`});let o;i===e?o=r:o=Rl(i,e,r);let a=Dl(Al(o));return new ot(a,s,n)}function Rl(i,e,r){let t={};return Object.entries(i.children).forEach(([n,s])=>{s===e?t[n]=r:t[n]=Rl(s,e,r)}),new j(i.segments,t)}var hr=class{constructor(e,r,t){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=t,e&&t.length>0&&ur(t[0]))throw new H(4003,!1);let n=t.find(Xi);if(n&&n!==wl(t))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function kh(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new hr(!0,0,i);let e=0,r=!1,t=i.reduce((n,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...n,{outlets:a}]}if(s.segmentPath)return[...n,s.segmentPath]}return typeof s!="string"?[...n,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?e++:a!=""&&n.push(a))}),n):[...n,s]},[]);return new hr(r,e,t)}var ri=class{constructor(e,r,t){this.segmentGroup=e,this.processChildren=r,this.index=t}};function Dh(i,e,r){if(i.isAbsolute)return new ri(e,!0,0);if(!r)return new ri(e,!1,NaN);if(r.parent===null)return new ri(r,!0,0);let t=ur(i.commands[0])?0:1,n=r.segments.length-1+t;return Ah(r,n,i.numberOfDoubleDots)}function Ah(i,e,r){let t=i,n=e,s=r;for(;s>n;){if(s-=n,t=t.parent,!t)throw new H(4005,!1);n=t.segments.length}return new ri(t,!1,n-s)}function xh(i){return Xi(i[0])?i[0].outlets:{[O]:i}}function Ol(i,e,r){if(i??=new j([],{}),i.segments.length===0&&i.hasChildren())return Zi(i,e,r);let t=Mh(i,e,r),n=r.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){let s=new j(i.segments.slice(0,t.pathIndex),{});return s.children[O]=new j(i.segments.slice(t.pathIndex),i.children),Zi(s,0,n)}else return t.match&&n.length===0?new j(i.segments,{}):t.match&&!i.hasChildren()?lo(i,e,r):t.match?Zi(i,0,n):lo(i,e,r)}function Zi(i,e,r){if(r.length===0)return new j(i.segments,{});{let t=xh(r),n={};if(Object.keys(t).some(s=>s!==O)&&i.children[O]&&i.numberOfChildren===1&&i.children[O].segments.length===0){let s=Zi(i.children[O],e,r);return new j(i.segments,s.children)}return Object.entries(t).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(n[s]=Ol(i.children[s],e,o))}),Object.entries(i.children).forEach(([s,o])=>{t[s]===void 0&&(n[s]=o)}),new j(i.segments,n)}}function Mh(i,e,r){let t=0,n=e,s={match:!1,pathIndex:0,commandIndex:0};for(;n<i.segments.length;){if(t>=r.length)return s;let o=i.segments[n],a=r[t];if(Xi(a))break;let l=`${a}`,c=t<r.length-1?r[t+1]:null;if(n>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!ul(l,c,o))return s;t+=2}else{if(!ul(l,{},o))return s;t++}n++}return{match:!0,pathIndex:n,commandIndex:t}}function lo(i,e,r){let t=i.segments.slice(0,e),n=0;for(;n<r.length;){let s=r[n];if(Xi(s)){let l=Rh(s.outlets);return new j(t,l)}if(n===0&&ur(r[0])){let l=i.segments[e];t.push(new Lt(l.path,dl(r[0]))),n++;continue}let o=Xi(s)?s.outlets[O]:`${s}`,a=n<r.length-1?r[n+1]:null;o&&a&&ur(a)?(t.push(new Lt(o,dl(a))),n+=2):(t.push(new Lt(o,{})),n++)}return new j(t,{})}function Rh(i){let e={};return Object.entries(i).forEach(([r,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(e[r]=lo(new j([],{}),0,t))}),e}function dl(i){let e={};return Object.entries(i).forEach(([r,t])=>e[r]=`${t}`),e}function ul(i,e,r){return i==r.path&&qe(e,r.parameters)}var Yi="imperative",ae=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(ae||{}),je=class{constructor(e,r){this.id=e,this.url=r}},li=class extends je{constructor(e,r,t="imperative",n=null){super(e,r),this.type=ae.NavigationStart,this.navigationTrigger=t,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ke=class extends je{constructor(e,r,t){super(e,r),this.urlAfterRedirects=t,this.type=ae.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ae=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Ae||{}),pr=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(pr||{}),st=class extends je{constructor(e,r,t,n){super(e,r),this.reason=t,this.code=n,this.type=ae.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_t=class extends je{constructor(e,r,t,n){super(e,r),this.reason=t,this.code=n,this.type=ae.NavigationSkipped}},en=class extends je{constructor(e,r,t,n){super(e,r),this.error=t,this.target=n,this.type=ae.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},mr=class extends je{constructor(e,r,t,n){super(e,r),this.urlAfterRedirects=t,this.state=n,this.type=ae.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uo=class extends je{constructor(e,r,t,n){super(e,r),this.urlAfterRedirects=t,this.state=n,this.type=ae.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ho=class extends je{constructor(e,r,t,n,s){super(e,r),this.urlAfterRedirects=t,this.state=n,this.shouldActivate=s,this.type=ae.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},po=class extends je{constructor(e,r,t,n){super(e,r),this.urlAfterRedirects=t,this.state=n,this.type=ae.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mo=class extends je{constructor(e,r,t,n){super(e,r),this.urlAfterRedirects=t,this.state=n,this.type=ae.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fo=class{constructor(e){this.route=e,this.type=ae.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},go=class{constructor(e){this.route=e,this.type=ae.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vo=class{constructor(e){this.snapshot=e,this.type=ae.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bo=class{constructor(e){this.snapshot=e,this.type=ae.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_o=class{constructor(e){this.snapshot=e,this.type=ae.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yo=class{constructor(e){this.snapshot=e,this.type=ae.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fr=class{constructor(e,r,t){this.routerEvent=e,this.position=r,this.anchor=t,this.type=ae.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},tn=class{},di=class{constructor(e,r){this.url=e,this.navigationBehaviorOptions=r}};function Oh(i,e){return i.providers&&!i._injector&&(i._injector=ys(i.providers,e,`Route: ${i.path}`)),i._injector??e}function Be(i){return i.outlet||O}function Ph(i,e){let r=i.filter(t=>Be(t)===e);return r.push(...i.filter(t=>Be(t)!==e)),r}function ln(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var wo=class{get injector(){return ln(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new dn(this.rootInjector),this.attachRef=null}},dn=(()=>{let e=class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,n){let s=this.getOrCreateContext(t);s.outlet=n,this.contexts.set(t,s)}onChildOutletDestroyed(t){let n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new wo(this.rootInjector),this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}};e.\u0275fac=function(n){return new(n||e)(w(St))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),gr=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=Co(e,this._root);return r?r.children.map(t=>t.value):[]}firstChild(e){let r=Co(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=Io(e,this._root);return r.length<2?[]:r[r.length-2].children.map(n=>n.value).filter(n=>n!==e)}pathFromRoot(e){return Io(e,this._root).map(r=>r.value)}};function Co(i,e){if(i===e.value)return e;for(let r of e.children){let t=Co(i,r);if(t)return t}return null}function Io(i,e){if(i===e.value)return[e];for(let r of e.children){let t=Io(i,r);if(t.length)return t.unshift(e),t}return[]}var De=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function ni(i){let e={};return i&&i.children.forEach(r=>e[r.value.outlet]=r),e}var vr=class extends gr{constructor(e,r){super(e),this.snapshot=r,Oo(this,e)}toString(){return this.snapshot.toString()}};function Pl(i){let e=Nh(i),r=new ue([new Lt("",{})]),t=new ue({}),n=new ue({}),s=new ue({}),o=new ue(""),a=new at(r,t,s,o,n,O,i,e.root);return a.snapshot=e.root,new vr(new De(a,[]),e)}function Nh(i){let e={},r={},t={},n="",s=new si([],e,t,n,r,O,i,null,{});return new _r("",new De(s,[]))}var at=class{constructor(e,r,t,n,s,o,a,l){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=t,this.fragmentSubject=n,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(k(c=>c[an]))??S(void 0),this.url=e,this.params=r,this.queryParams=t,this.fragment=n,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(k(e=>ai(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(k(e=>ai(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function br(i,e,r="emptyOnly"){let t,{routeConfig:n}=i;return e!==null&&(r==="always"||n?.path===""||!e.component&&!e.routeConfig?.loadComponent)?t={params:y(y({},e.params),i.params),data:y(y({},e.data),i.data),resolve:y(y(y(y({},i.data),e.data),n?.data),i._resolvedData)}:t={params:y({},i.params),data:y({},i.data),resolve:y(y({},i.data),i._resolvedData??{})},n&&Fl(n)&&(t.resolve[an]=n.title),t}var si=class{get title(){return this.data?.[an]}constructor(e,r,t,n,s,o,a,l,c){this.url=e,this.params=r,this.queryParams=t,this.fragment=n,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ai(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ai(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(t=>t.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},_r=class extends gr{constructor(e,r){super(r),this.url=e,Oo(this,r)}toString(){return Nl(this._root)}};function Oo(i,e){e.value._routerState=i,e.children.forEach(r=>Oo(i,r))}function Nl(i){let e=i.children.length>0?` { ${i.children.map(Nl).join(", ")} } `:"";return`${i.value}${e}`}function no(i){if(i.snapshot){let e=i.snapshot,r=i._futureSnapshot;i.snapshot=r,qe(e.queryParams,r.queryParams)||i.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&i.fragmentSubject.next(r.fragment),qe(e.params,r.params)||i.paramsSubject.next(r.params),lh(e.url,r.url)||i.urlSubject.next(r.url),qe(e.data,r.data)||i.dataSubject.next(r.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function So(i,e){let r=qe(i.params,e.params)&&ph(i.url,e.url),t=!i.parent!=!e.parent;return r&&!t&&(!i.parent||So(i.parent,e.parent))}function Fl(i){return typeof i.title=="string"||i.title===null}var un=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=O,this.activateEvents=new he,this.deactivateEvents=new he,this.attachEvents=new he,this.detachEvents=new he,this.parentContexts=_(dn),this.location=_(_s),this.changeDetector=_(Dt),this.inputBinder=_(Sr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:n,previousValue:s}=t.name;if(n)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let s=this.location,a=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new To(t,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=L({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pe]});let i=e;return i})(),To=class i{__ngOutletInjector(e){return new i(this.route,this.childContexts,e)}constructor(e,r,t){this.route=e,this.childContexts=r,this.parent=t}get(e,r){return e===at?this.route:e===dn?this.childContexts:this.parent.get(e,r)}},Sr=new R(""),hl=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:n}=t,s=ut([n.queryParams,n.params,n.data]).pipe(ye(([o,a,l],c)=>(l=y(y(y({},o),a),l),c===0?S(l):Promise.resolve(l)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(t);return}let a=Oa(n.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:l}of a.inputs)t.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(t,s)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})();function Fh(i,e,r){let t=nn(i,e._root,r?r._root:void 0);return new vr(t,e)}function nn(i,e,r){if(r&&i.shouldReuseRoute(e.value,r.value.snapshot)){let t=r.value;t._futureSnapshot=e.value;let n=Lh(i,e,r);return new De(t,n)}else{if(i.shouldAttach(e.value)){let s=i.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>nn(i,a)),o}}let t=jh(e.value),n=e.children.map(s=>nn(i,s));return new De(t,n)}}function Lh(i,e,r){return e.children.map(t=>{for(let n of r.children)if(i.shouldReuseRoute(t.value,n.value.snapshot))return nn(i,t,n);return nn(i,t)})}function jh(i){return new at(new ue(i.url),new ue(i.params),new ue(i.queryParams),new ue(i.fragment),new ue(i.data),i.outlet,i.component,i)}var rn=class{constructor(e,r){this.redirectTo=e,this.navigationBehaviorOptions=r}},Ll="ngNavigationCancelingError";function yr(i,e){let{redirectTo:r,navigationBehaviorOptions:t}=Vt(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,n=jl(!1,Ae.Redirect);return n.url=r,n.navigationBehaviorOptions=t,n}function jl(i,e){let r=new Error(`NavigationCancelingError: ${i||""}`);return r[Ll]=!0,r.cancellationCode=e,r}function Vh(i){return Vl(i)&&Vt(i.url)}function Vl(i){return!!i&&i[Ll]}var Uh=(i,e,r,t)=>k(n=>(new Eo(e,n.targetRouterState,n.currentRouterState,r,t).activate(i),n)),Eo=class{constructor(e,r,t,n,s){this.routeReuseStrategy=e,this.futureState=r,this.currState=t,this.forwardEvent=n,this.inputBindingEnabled=s}activate(e){let r=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,t,e),no(this.futureState.root),this.activateChildRoutes(r,t,e)}deactivateChildRoutes(e,r,t){let n=ni(r);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,n[o],t),delete n[o]}),Object.values(n).forEach(s=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(e,r,t){let n=e.value,s=r?r.value:null;if(n===s)if(n.component){let o=t.getContext(n.outlet);o&&this.deactivateChildRoutes(e,r,o.children)}else this.deactivateChildRoutes(e,r,t);else s&&this.deactivateRouteAndItsChildren(r,t)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let t=r.getContext(e.value.outlet),n=t&&e.value.component?t.children:r,s=ni(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,n);if(t&&t.outlet){let o=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){let t=r.getContext(e.value.outlet),n=t&&e.value.component?t.children:r,s=ni(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,n);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(e,r,t){let n=ni(r);e.children.forEach(s=>{this.activateRoutes(s,n[s.value.outlet],t),this.forwardEvent(new yo(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bo(e.value.snapshot))}activateRoutes(e,r,t){let n=e.value,s=r?r.value:null;if(no(n),n===s)if(n.component){let o=t.getOrCreateContext(n.outlet);this.activateChildRoutes(e,r,o.children)}else this.activateChildRoutes(e,r,t);else if(n.component){let o=t.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),no(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=n,o.outlet&&o.outlet.activateWith(n,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,t)}},wr=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},oi=class{constructor(e,r){this.component=e,this.route=r}};function Bh(i,e,r){let t=i._root,n=e?e._root:null;return Ki(t,n,r,[t.value])}function Hh(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function hi(i,e){let r=Symbol(),t=e.get(i,r);return t===r?typeof i=="function"&&!fa(i)?i:e.get(i):t}function Ki(i,e,r,t,n={canDeactivateChecks:[],canActivateChecks:[]}){let s=ni(e);return i.children.forEach(o=>{$h(o,s[o.value.outlet],r,t.concat([o.value]),n),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ji(a,r.getContext(o),n)),n}function $h(i,e,r,t,n={canDeactivateChecks:[],canActivateChecks:[]}){let s=i.value,o=e?e.value:null,a=r?r.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=zh(o,s,s.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new wr(t)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ki(i,e,a?a.children:null,t,n):Ki(i,e,r,t,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new oi(a.outlet.component,o))}else o&&Ji(e,a,n),n.canActivateChecks.push(new wr(t)),s.component?Ki(i,null,a?a.children:null,t,n):Ki(i,null,r,t,n);return n}function zh(i,e,r){if(typeof r=="function")return r(i,e);switch(r){case"pathParamsChange":return!jt(i.url,e.url);case"pathParamsOrQueryParamsChange":return!jt(i.url,e.url)||!qe(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!So(i,e)||!qe(i.queryParams,e.queryParams);case"paramsChange":default:return!So(i,e)}}function Ji(i,e,r){let t=ni(i),n=i.value;Object.entries(t).forEach(([s,o])=>{n.component?e?Ji(o,e.children.getContext(s),r):Ji(o,null,r):Ji(o,e,r)}),n.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new oi(e.outlet.component,n)):r.canDeactivateChecks.push(new oi(null,n)):r.canDeactivateChecks.push(new oi(null,n))}function hn(i){return typeof i=="function"}function Wh(i){return typeof i=="boolean"}function Gh(i){return i&&hn(i.canLoad)}function qh(i){return i&&hn(i.canActivate)}function Kh(i){return i&&hn(i.canActivateChild)}function Qh(i){return i&&hn(i.canDeactivate)}function Zh(i){return i&&hn(i.canMatch)}function Ul(i){return i instanceof sa||i?.name==="EmptyError"}var ar=Symbol("INITIAL_VALUE");function ui(){return ye(i=>ut(i.map(e=>e.pipe(ze(1),Tn(ar)))).pipe(k(e=>{for(let r of e)if(r!==!0){if(r===ar)return ar;if(r===!1||Yh(r))return r}return!0}),J(e=>e!==ar),ze(1)))}function Yh(i){return Vt(i)||i instanceof rn}function Jh(i,e){return ce(r=>{let{targetSnapshot:t,currentSnapshot:n,guards:{canActivateChecks:s,canDeactivateChecks:o}}=r;return o.length===0&&s.length===0?S($(y({},r),{guardsResult:!0})):Xh(o,t,n,i).pipe(ce(a=>a&&Wh(a)?ep(t,s,i,e):S(a)),k(a=>$(y({},r),{guardsResult:a})))})}function Xh(i,e,r,t){return se(i).pipe(ce(n=>sp(n.component,n.route,r,e,t)),Re(n=>n!==!0,!0))}function ep(i,e,r,t){return se(e).pipe(ht(n=>Cn(ip(n.route.parent,t),tp(n.route,t),rp(i,n.path,r),np(i,n.route,r))),Re(n=>n!==!0,!0))}function tp(i,e){return i!==null&&e&&e(new _o(i)),S(!0)}function ip(i,e){return i!==null&&e&&e(new vo(i)),S(!0)}function np(i,e,r){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return S(!0);let n=t.map(s=>ds(()=>{let o=ln(e)??r,a=hi(s,o),l=qh(a)?a.canActivate(e,i):Oe(o,()=>a(e,i));return yt(l).pipe(Re())}));return S(n).pipe(ui())}function rp(i,e,r){let t=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Hh(o)).filter(o=>o!==null).map(o=>ds(()=>{let a=o.guards.map(l=>{let c=ln(o.node)??r,m=hi(l,c),f=Kh(m)?m.canActivateChild(t,i):Oe(c,()=>m(t,i));return yt(f).pipe(Re())});return S(a).pipe(ui())}));return S(s).pipe(ui())}function sp(i,e,r,t,n){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return S(!0);let o=s.map(a=>{let l=ln(e)??n,c=hi(a,l),m=Qh(c)?c.canDeactivate(i,e,r,t):Oe(l,()=>c(i,e,r,t));return yt(m).pipe(Re())});return S(o).pipe(ui())}function op(i,e,r,t){let n=e.canLoad;if(n===void 0||n.length===0)return S(!0);let s=n.map(o=>{let a=hi(o,i),l=Gh(a)?a.canLoad(e,r):Oe(i,()=>a(e,r));return yt(l)});return S(s).pipe(ui(),Bl(t))}function Bl(i){return na(te(e=>{if(typeof e!="boolean")throw yr(i,e)}),k(e=>e===!0))}function ap(i,e,r,t){let n=e.canMatch;if(!n||n.length===0)return S(!0);let s=n.map(o=>{let a=hi(o,i),l=Zh(a)?a.canMatch(e,r):Oe(i,()=>a(e,r));return yt(l)});return S(s).pipe(ui(),Bl(t))}var sn=class{constructor(e){this.segmentGroup=e||null}},on=class extends Error{constructor(e){super(),this.urlTree=e}};function ii(i){return Ye(new sn(i))}function cp(i){return Ye(new H(4e3,!1))}function lp(i){return Ye(jl(!1,Ae.GuardRejected))}var ko=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let t=[],n=r.root;for(;;){if(t=t.concat(n.segments),n.numberOfChildren===0)return S(t);if(n.numberOfChildren>1||!n.children[O])return cp(`${e.redirectTo}`);n=n.children[O]}}applyRedirectCommands(e,r,t,n,s){if(typeof r!="string"){let a=r,{queryParams:l,fragment:c,routeConfig:m,url:f,outlet:h,params:v,data:g,title:x}=n,T=Oe(s,()=>a({params:v,data:g,queryParams:l,fragment:c,routeConfig:m,url:f,outlet:h,title:x}));if(T instanceof ot)throw new on(T);r=T}let o=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,t);if(r[0]==="/")throw new on(o);return o}applyRedirectCreateUrlTree(e,r,t,n){let s=this.createSegmentGroup(e,r.root,t,n);return new ot(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let t={};return Object.entries(e).forEach(([n,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);t[n]=r[a]}else t[n]=s}),t}createSegmentGroup(e,r,t,n){let s=this.createSegments(e,r.segments,t,n),o={};return Object.entries(r.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,t,n)}),new j(s,o)}createSegments(e,r,t,n){return r.map(s=>s.path[0]===":"?this.findPosParam(e,s,n):this.findOrReturn(s,t))}findPosParam(e,r,t){let n=t[r.path.substring(1)];if(!n)throw new H(4001,!1);return n}findOrReturn(e,r){let t=0;for(let n of r){if(n.path===e.path)return r.splice(t),n;t++}return e}},Do={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dp(i,e,r,t,n){let s=Hl(i,e,r);return s.matched?(t=Oh(e,t),ap(t,e,r,n).pipe(k(o=>o===!0?s:y({},Do)))):S(s)}function Hl(i,e,r){if(e.path==="**")return up(r);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||r.length>0)?y({},Do):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let n=(e.matcher||ch)(r,i,e);if(!n)return y({},Do);let s={};Object.entries(n.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=n.consumed.length>0?y(y({},s),n.consumed[n.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:n.consumed,remainingSegments:r.slice(n.consumed.length),parameters:o,positionalParamSegments:n.posParams??{}}}function up(i){return{matched:!0,parameters:i.length>0?wl(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function pl(i,e,r,t){return r.length>0&&mp(i,r,t)?{segmentGroup:new j(e,pp(t,new j(r,i.children))),slicedSegments:[]}:r.length===0&&fp(i,r,t)?{segmentGroup:new j(i.segments,hp(i,r,t,i.children)),slicedSegments:r}:{segmentGroup:new j(i.segments,i.children),slicedSegments:r}}function hp(i,e,r,t){let n={};for(let s of r)if(Tr(i,e,s)&&!t[Be(s)]){let o=new j([],{});n[Be(s)]=o}return y(y({},t),n)}function pp(i,e){let r={};r[O]=e;for(let t of i)if(t.path===""&&Be(t)!==O){let n=new j([],{});r[Be(t)]=n}return r}function mp(i,e,r){return r.some(t=>Tr(i,e,t)&&Be(t)!==O)}function fp(i,e,r){return r.some(t=>Tr(i,e,t))}function Tr(i,e,r){return(i.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function gp(i,e,r){return e.length===0&&!i.children[r]}var Ao=class{};function vp(i,e,r,t,n,s,o="emptyOnly"){return new xo(i,e,r,t,n,o,s).recognize()}var bp=31,xo=class{constructor(e,r,t,n,s,o,a){this.injector=e,this.configLoader=r,this.rootComponentType=t,this.config=n,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new ko(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=pl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(k(({children:r,rootSnapshot:t})=>{let n=new De(t,r),s=new _r("",n),o=Ro(t,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let r=new si([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),O,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,O,r).pipe(k(t=>({children:t,rootSnapshot:r})),Me(t=>{if(t instanceof on)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof sn?this.noMatchError(t):t}))}processSegmentGroup(e,r,t,n,s){return t.segments.length===0&&t.hasChildren()?this.processChildren(e,r,t,s):this.processSegment(e,r,t,t.segments,n,!0,s).pipe(k(o=>o instanceof De?[o]:[]))}processChildren(e,r,t,n){let s=[];for(let o of Object.keys(t.children))o==="primary"?s.unshift(o):s.push(o);return se(s).pipe(ht(o=>{let a=t.children[o],l=Ph(r,o);return this.processSegmentGroup(e,l,a,o,n)}),pa((o,a)=>(o.push(...a),o)),us(null),ha(),ce(o=>{if(o===null)return ii(t);let a=$l(o);return _p(a),S(a)}))}processSegment(e,r,t,n,s,o,a){return se(r).pipe(ht(l=>this.processSegmentAgainstRoute(l._injector??e,r,l,t,n,s,o,a).pipe(Me(c=>{if(c instanceof sn)return S(null);throw c}))),Re(l=>!!l),Me(l=>{if(Ul(l))return gp(t,n,s)?S(new Ao):ii(t);throw l}))}processSegmentAgainstRoute(e,r,t,n,s,o,a,l){return Be(t)!==o&&(o===O||!Tr(n,s,t))?ii(n):t.redirectTo===void 0?this.matchSegmentAgainstRoute(e,n,t,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,t,s,o,l):ii(n)}expandSegmentAgainstRouteUsingRedirect(e,r,t,n,s,o,a){let{matched:l,parameters:c,consumedSegments:m,positionalParamSegments:f,remainingSegments:h}=Hl(r,n,s);if(!l)return ii(r);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>bp&&(this.allowRedirects=!1));let v=new si(s,c,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,ml(n),Be(n),n.component??n._loadedComponent??null,n,fl(n)),g=br(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(g.params),v.data=Object.freeze(g.data);let x=this.applyRedirects.applyRedirectCommands(m,n.redirectTo,f,v,e);return this.applyRedirects.lineralizeSegments(n,x).pipe(ce(T=>this.processSegment(e,t,r,T.concat(h),o,!1,a)))}matchSegmentAgainstRoute(e,r,t,n,s,o){let a=dp(r,t,n,e,this.urlSerializer);return t.path==="**"&&(r.children={}),a.pipe(ye(l=>l.matched?(e=t._injector??e,this.getChildConfig(e,t,n).pipe(ye(({routes:c})=>{let m=t._loadedInjector??e,{parameters:f,consumedSegments:h,remainingSegments:v}=l,g=new si(h,f,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,ml(t),Be(t),t.component??t._loadedComponent??null,t,fl(t)),x=br(g,o,this.paramsInheritanceStrategy);g.params=Object.freeze(x.params),g.data=Object.freeze(x.data);let{segmentGroup:T,slicedSegments:M}=pl(r,h,v,c);if(M.length===0&&T.hasChildren())return this.processChildren(m,c,T,g).pipe(k(D=>new De(g,D)));if(c.length===0&&M.length===0)return S(new De(g,[]));let Y=Be(t)===s;return this.processSegment(m,c,T,M,Y?O:s,!0,g).pipe(k(D=>new De(g,D instanceof De?[D]:[])))}))):ii(r)))}getChildConfig(e,r,t){return r.children?S({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?S({routes:r._loadedRoutes,injector:r._loadedInjector}):op(e,r,t,this.urlSerializer).pipe(ce(n=>n?this.configLoader.loadChildren(e,r).pipe(te(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):lp(r))):S({routes:[],injector:e})}};function _p(i){i.sort((e,r)=>e.value.outlet===O?-1:r.value.outlet===O?1:e.value.outlet.localeCompare(r.value.outlet))}function yp(i){let e=i.value.routeConfig;return e&&e.path===""}function $l(i){let e=[],r=new Set;for(let t of i){if(!yp(t)){e.push(t);continue}let n=e.find(s=>t.value.routeConfig===s.value.routeConfig);n!==void 0?(n.children.push(...t.children),r.add(n)):e.push(t)}for(let t of r){let n=$l(t.children);e.push(new De(t.value,n))}return e.filter(t=>!r.has(t))}function ml(i){return i.data||{}}function fl(i){return i.resolve||{}}function wp(i,e,r,t,n,s){return ce(o=>vp(i,e,r,t,o.extractedUrl,n,s).pipe(k(({state:a,tree:l})=>$(y({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Cp(i,e){return ce(r=>{let{targetSnapshot:t,guards:{canActivateChecks:n}}=r;if(!n.length)return S(r);let s=new Set(n.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of zl(l))o.add(c);let a=0;return se(o).pipe(ht(l=>s.has(l)?Ip(l,t,i,e):(l.data=br(l,l.parent,i).resolve,S(void 0))),te(()=>a++),hs(1),ce(l=>a===o.size?S(r):dt))})}function zl(i){let e=i.children.map(r=>zl(r)).flat();return[i,...e]}function Ip(i,e,r,t){let n=i.routeConfig,s=i._resolve;return n?.title!==void 0&&!Fl(n)&&(s[an]=n.title),Sp(s,i,e,t).pipe(k(o=>(i._resolvedData=o,i.data=br(i,i.parent,r).resolve,null)))}function Sp(i,e,r,t){let n=oo(i);if(n.length===0)return S({});let s={};return se(n).pipe(ce(o=>Tp(i[o],e,r,t).pipe(Re(),te(a=>{if(a instanceof rn)throw yr(new ci,a);s[o]=a}))),hs(1),ua(s),Me(o=>Ul(o)?dt:Ye(o)))}function Tp(i,e,r,t){let n=ln(e)??t,s=hi(i,n),o=s.resolve?s.resolve(e,r):Oe(n,()=>s(e,r));return yt(o)}function ro(i){return ye(e=>{let r=i(e);return r?se(r).pipe(k(()=>e)):S(e)})}var Wl=(()=>{let e=class e{buildTitle(t){let n,s=t.root;for(;s!==void 0;)n=this.getResolvedTitleForRoute(s)??n,s=s.children.find(o=>o.outlet===O);return n}getResolvedTitleForRoute(t){return t.data[an]}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:()=>_(Ep),providedIn:"root"});let i=e;return i})(),Ep=(()=>{let e=class e extends Wl{constructor(t){super(),this.title=t}updateTitle(t){let n=this.buildTitle(t);n!==void 0&&this.title.setTitle(n)}};e.\u0275fac=function(n){return new(n||e)(w(wc))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),pn=new R("",{providedIn:"root",factory:()=>({})}),kp=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=N({type:e,selectors:[["ng-component"]],standalone:!0,features:[xn],decls:1,vars:0,template:function(n,s){n&1&&E(0,"router-outlet")},dependencies:[un],encapsulation:2});let i=e;return i})();function Po(i){let e=i.children&&i.children.map(Po),r=e?$(y({},i),{children:e}):y({},i);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==O&&(r.component=kp),r}var Cr=new R(""),No=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=_(Fn)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return S(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let n=yt(t.loadComponent()).pipe(k(Gl),te(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),It(()=>{this.componentLoaders.delete(t)})),s=new cs(n,()=>new _e).pipe(as());return this.componentLoaders.set(t,s),s}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return S({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=Dp(n,this.compiler,t,this.onLoadEndListener).pipe(It(()=>{this.childrenLoaders.delete(n)})),a=new cs(o,()=>new _e).pipe(as());return this.childrenLoaders.set(n,a),a}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Dp(i,e,r,t){return yt(i.loadChildren()).pipe(k(Gl),ce(n=>n instanceof Ia||Array.isArray(n)?S(n):se(e.compileModuleAsync(n))),k(n=>{t&&t(i);let s,o,a=!1;return Array.isArray(n)?(o=n,a=!0):(s=n.create(r).injector,o=s.get(Cr,[],{optional:!0,self:!0}).flat()),{routes:o.map(Po),injector:s}}))}function Ap(i){return i&&typeof i=="object"&&"default"in i}function Gl(i){return Ap(i)?i.default:i}var Fo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:()=>_(xp),providedIn:"root"});let i=e;return i})(),xp=(()=>{let e=class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ql=new R(""),Kl=new R("");function Mp(i,e,r){let t=i.get(Kl),n=i.get(ee);return i.get(X).runOutsideAngular(()=>{if(!n.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=n.startViewTransition(()=>(s(),Rp(i))),{onViewTransitionCreated:l}=t;return l&&Oe(i,()=>l({transition:a,from:e,to:r})),o})}function Rp(i){return new Promise(e=>{ws({read:()=>setTimeout(e)},{injector:i})})}var Op=new R(""),Lo=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _e,this.transitionAbortSubject=new _e,this.configLoader=_(No),this.environmentInjector=_(St),this.urlSerializer=_(cn),this.rootContexts=_(dn),this.location=_(xt),this.inputBindingEnabled=_(Sr,{optional:!0})!==null,this.titleStrategy=_(Wl),this.options=_(pn,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=_(Fo),this.createViewTransition=_(ql,{optional:!0}),this.navigationErrorHandler=_(Op,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null;let t=s=>this.events.next(new fo(s)),n=s=>this.events.next(new go(s));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let n=++this.navigationId;this.transitions?.next($(y(y({},this.transitions.value),t),{id:n}))}setupNavigations(t,n,s){return this.transitions=new ue({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Yi,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(J(o=>o.id!==0),k(o=>$(y({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ye(o=>{let a=!1,l=!1;return S(o).pipe(ye(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ae.SupersededByNewNavigation),dt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?$(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let m=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!m&&f!=="reload"){let h="";return this.events.next(new _t(c.id,this.urlSerializer.serialize(c.rawUrl),h,pr.IgnoredSameUrlNavigation)),c.resolve(!1),dt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return S(c).pipe(ye(h=>{let v=this.transitions?.getValue();return this.events.next(new li(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),v!==this.transitions?.getValue()?dt:Promise.resolve(h)}),wp(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),te(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=$(y({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let v=new mr(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(v)}));if(m&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:v,source:g,restoredState:x,extras:T}=c,M=new li(h,this.urlSerializer.serialize(v),g,x);this.events.next(M);let Y=Pl(this.rootComponentType).snapshot;return this.currentTransition=o=$(y({},c),{targetSnapshot:Y,urlAfterRedirects:v,extras:$(y({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,S(o)}else{let h="";return this.events.next(new _t(c.id,this.urlSerializer.serialize(c.extractedUrl),h,pr.IgnoredByUrlHandlingStrategy)),c.resolve(!1),dt}}),te(c=>{let m=new uo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(m)}),k(c=>(this.currentTransition=o=$(y({},c),{guards:Bh(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Jh(this.environmentInjector,c=>this.events.next(c)),te(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw yr(this.urlSerializer,c.guardsResult);let m=new ho(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(m)}),J(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ae.GuardRejected),!1)),ro(c=>{if(c.guards.canActivateChecks.length)return S(c).pipe(te(m=>{let f=new po(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(f)}),ye(m=>{let f=!1;return S(m).pipe(Cp(this.paramsInheritanceStrategy,this.environmentInjector),te({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(m,"",Ae.NoDataFromResolver)}}))}),te(m=>{let f=new mo(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(f)}))}),ro(c=>{let m=f=>{let h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(te(v=>{f.component=v}),k(()=>{})));for(let v of f.children)h.push(...m(v));return h};return ut(m(c.targetSnapshot.root)).pipe(us(null),ze(1))}),ro(()=>this.afterPreactivation()),ye(()=>{let{currentSnapshot:c,targetSnapshot:m}=o,f=this.createViewTransition?.(this.environmentInjector,c.root,m.root);return f?se(f).pipe(k(()=>o)):S(o)}),k(c=>{let m=Fh(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=$(y({},c),{targetRouterState:m}),this.currentNavigation.targetRouterState=m,o}),te(()=>{this.events.next(new tn)}),Uh(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ze(1),te({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ke(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),En(this.transitionAbortSubject.pipe(te(c=>{throw c}))),It(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Ae.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Me(c=>{if(l=!0,Vl(c))this.events.next(new st(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Vh(c)?this.events.next(new di(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let m=new en(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let f=Oe(this.environmentInjector,()=>this.navigationErrorHandler?.(m));if(f instanceof rn){let{message:h,cancellationCode:v}=yr(this.urlSerializer,f);this.events.next(new st(o.id,this.urlSerializer.serialize(o.extractedUrl),h,v)),this.events.next(new di(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(m);let h=t.errorHandler(c);o.resolve(!!h)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return dt}))}))}cancelNavigationTransition(t,n,s){let o=new st(t.id,this.urlSerializer.serialize(t.extractedUrl),n,s);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Pp(i){return i!==Yi}var Np=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:()=>_(Fp),providedIn:"root"});let i=e;return i})(),Mo=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},Fp=(()=>{let e=class e extends Mo{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ql=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:()=>_(Lp),providedIn:"root"});let i=e;return i})(),Lp=(()=>{let e=class e extends Ql{constructor(){super(...arguments),this.location=_(xt),this.urlSerializer=_(cn),this.options=_(pn,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=_(Fo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ot,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Pl(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{n.type==="popstate"&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof li)this.stateMemento=this.createStateMemento();else if(t instanceof _t)this.rawUrlTree=n.initialUrl;else if(t instanceof mr){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??s,n)}}else t instanceof tn?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):t instanceof st&&(t.code===Ae.GuardRejected||t.code===Ae.NoDataFromResolver)?this.restoreHistory(n):t instanceof en?this.restoreHistory(n,!0):t instanceof Ke&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){let s=t instanceof ot?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl){let o=this.browserPageId,a=y(y({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(s,"",a)}else{let o=y(y({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(t,n=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Qi=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Qi||{});function Zl(i,e){i.events.pipe(J(r=>r instanceof Ke||r instanceof st||r instanceof en||r instanceof _t),k(r=>r instanceof Ke||r instanceof _t?Qi.COMPLETE:(r instanceof st?r.code===Ae.Redirect||r.code===Ae.SupersededByNewNavigation:!1)?Qi.REDIRECTING:Qi.FAILED),J(r=>r!==Qi.REDIRECTING),ze(1)).subscribe(()=>{e()})}function jp(i){throw i}var Vp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Up={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ve=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=_(Mn),this.stateManager=_(Ql),this.options=_(pn,{optional:!0})||{},this.pendingTasks=_(yi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=_(Lo),this.urlSerializer=_(cn),this.location=_(xt),this.urlHandlingStrategy=_(Fo),this._events=new _e,this.errorHandler=this.options.errorHandler||jp,this.navigated=!1,this.routeReuseStrategy=_(Np),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=_(Cr,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!_(Sr,{optional:!0}),this.eventsSubscription=new ia,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(n=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof st&&n.code!==Ae.Redirect&&n.code!==Ae.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Ke)this.navigated=!0;else if(n instanceof di){let a=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,s.currentRawUrl),c=y({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Pp(s.source)},a);this.scheduleNavigation(l,Yi,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Hp(n)&&this._events.next(n)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=y({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(t);this.scheduleNavigation(l,n,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Po),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=n,m=c?this.currentUrlTree.fragment:a,f=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":f=y(y({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let h;try{let v=s?s.snapshot:this.routerState.snapshot.root;h=xl(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return Ml(h,t,f,m??null)}navigateByUrl(t,n={skipLocationChange:!1}){let s=Vt(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Yi,null,n)}navigate(t,n={skipLocationChange:!1}){return Bp(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let s;if(n===!0?s=y({},Vp):n===!1?s=y({},Up):s=n,Vt(t))return cl(this.currentUrlTree,t,s);let o=this.parseUrl(t);return cl(this.currentUrlTree,o,s)}removeEmptyProps(t){return Object.entries(t).reduce((n,[s,o])=>(o!=null&&(n[s]=o),n),{})}scheduleNavigation(t,n,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,m;a?(l=a.resolve,c=a.reject,m=a.promise):m=new Promise((h,v)=>{l=h,c=v});let f=this.pendingTasks.add();return Zl(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:c,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(h=>Promise.reject(h))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Bp(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new H(4008,!1)}function Hp(i){return!(i instanceof tn)&&!(i instanceof di)}var pi=(()=>{let e=class e{constructor(t,n,s,o,a,l){this.router=t,this.route=n,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new _e,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(m=>{m instanceof Ke&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Vt(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,n,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(t!==0||n||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let n=this.href===null?null:wa(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(t,n){let s=this.renderer,o=this.el.nativeElement;n!==null?s.setAttribute(o,t,n):s.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Vt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(n){return new(n||e)(C(Ve),C(at),fs("tabindex"),C(Tt),C(we),C(ki))},e.\u0275dir=L({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,s){n&1&&A("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),n&2&&Xe("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",et],skipLocationChange:[2,"skipLocationChange","skipLocationChange",et],replaceUrl:[2,"replaceUrl","replaceUrl",et],routerLink:"routerLink"},standalone:!0,features:[Si,Pe]});let i=e;return i})();var Ir=class{};var $p=(()=>{let e=class e{constructor(t,n,s,o,a){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(J(t=>t instanceof Ke),ht(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,n){let s=[];for(let o of n){o.providers&&!o._injector&&(o._injector=ys(o.providers,t,`Route: ${o.path}`));let a=o._injector??t,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return se(s).pipe(ls())}preloadConfig(t,n){return this.preloadingStrategy.preload(n,()=>{let s;n.loadChildren&&n.canLoad===void 0?s=this.loader.loadChildren(t,n):s=S(null);let o=s.pipe(ce(a=>a===null?S(void 0):(n._loadedRoutes=a.routes,n._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(n.loadComponent&&!n._loadedComponent){let a=this.loader.loadComponent(n);return se([o,a]).pipe(ls())}else return o})}};e.\u0275fac=function(n){return new(n||e)(w(Ve),w(Fn),w(St),w(Ir),w(No))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Yl=new R(""),zp=(()=>{let e=class e{constructor(t,n,s,o,a={}){this.urlSerializer=t,this.transitions=n,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ke?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof _t&&t.code===pr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof fr&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fr(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(n){kn()},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})();function Wp(i){return i.routerState.root}function mn(i,e){return{\u0275kind:i,\u0275providers:e}}function Gp(){let i=_(_i);return e=>{let r=i.get(Ei);if(e!==r.components[0])return;let t=i.get(Ve),n=i.get(Jl);i.get(jo)===1&&t.initialNavigation(),i.get(Xl,null,ps.Optional)?.setUpPreloading(),i.get(Yl,null,ps.Optional)?.init(),t.resetRootComponentType(r.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var Jl=new R("",{factory:()=>new _e}),jo=new R("",{providedIn:"root",factory:()=>1});function qp(){return mn(2,[{provide:jo,useValue:0},{provide:Is,multi:!0,deps:[_i],useFactory:e=>{let r=e.get(Fa,Promise.resolve());return()=>r.then(()=>new Promise(t=>{let n=e.get(Ve),s=e.get(Jl);Zl(n,()=>{t(!0)}),e.get(Lo).afterPreactivation=()=>(t(!0),s.closed?S(void 0):s),n.initialNavigation()}))}}])}function Kp(){return mn(3,[{provide:Is,multi:!0,useFactory:()=>{let e=_(Ve);return()=>{e.setUpLocationChangeListener()}}},{provide:jo,useValue:2}])}var Xl=new R("");function Qp(i){return mn(0,[{provide:Xl,useExisting:$p},{provide:Ir,useExisting:i}])}function Zp(){return mn(8,[hl,{provide:Sr,useExisting:hl}])}function Yp(i){let e=[{provide:ql,useValue:Mp},{provide:Kl,useValue:y({skipNextTransition:!!i?.skipInitialTransition},i)}];return mn(9,e)}var gl=new R("ROUTER_FORROOT_GUARD"),Jp=[xt,{provide:cn,useClass:ci},Ve,dn,{provide:at,useFactory:Wp,deps:[Ve]},No,[]],Vo=(()=>{let e=class e{constructor(t){}static forRoot(t,n){return{ngModule:e,providers:[Jp,[],{provide:Cr,multi:!0,useValue:t},{provide:gl,useFactory:im,deps:[[Ve,new ms,new ga]]},{provide:pn,useValue:n||{}},n?.useHash?em():tm(),Xp(),n?.preloadingStrategy?Qp(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?nm(n):[],n?.bindToComponentInputs?Zp().\u0275providers:[],n?.enableViewTransitions?Yp().\u0275providers:[],rm()]}}static forChild(t){return{ngModule:e,providers:[{provide:Cr,multi:!0,useValue:t}]}}};e.\u0275fac=function(n){return new(n||e)(w(gl,8))},e.\u0275mod=Z({type:e}),e.\u0275inj=Q({});let i=e;return i})();function Xp(){return{provide:Yl,useFactory:()=>{let i=_(Ha),e=_(X),r=_(pn),t=_(Lo),n=_(cn);return r.scrollOffset&&i.setOffset(r.scrollOffset),new zp(n,t,i,e,r)}}}function em(){return{provide:ki,useClass:ja}}function tm(){return{provide:ki,useClass:La}}function im(i){return"guarded"}function nm(i){return[i.initialNavigation==="disabled"?Kp().\u0275providers:[],i.initialNavigation==="enabledBlocking"?qp().\u0275providers:[]]}var vl=new R("");function rm(){return[{provide:vl,useFactory:Gp},{provide:Nn,multi:!0,useExisting:vl}]}var Er=class i{static \u0275fac=function(r){return new(r||i)};static \u0275cmp=N({type:i,selectors:[["app-basic"]],decls:9,vars:0,consts:[["routerLink","/ngr-basic/tva"],["routerLink","/ngr-basic/calculatrice/simple"],["routerLink","/ngr-basic/calculatrice/sophistiquee"]],template:function(r,t){r&1&&(p(0,"a",0),u(1,"tva"),d(),u(2," \xA0 "),p(3,"a",1),u(4,"calculatrice simple"),d(),E(5,"br"),p(6,"a",2),u(7,"calculatrice sophistiquee"),d(),E(8,"router-outlet"))},dependencies:[un,pi]})};var kr=class i{a=0;b=0;res=0;modeChoisi="simple";constructor(e){e.params.subscribe(r=>{this.modeChoisi=r.mode})}onCalculer(e){switch(e){case"+":this.res=Number(this.a)+Number(this.b);break;case"-":this.res=this.a-this.b;break;case"*":this.res=this.a*this.b;break;case"/":this.res=this.a/this.b;break;default:this.res=0}}x=0;y=0;onMouseMove(e){let r=e.target;this.x=e.pageX-r.offsetLeft,this.y=e.pageY-r.offsetTop}onMouseLeave(e){this.x=0,this.y=0}static \u0275fac=function(r){return new(r||i)(C(at))};static \u0275cmp=N({type:i,selectors:[["app-calculatrice"]],decls:34,vars:15,consts:[["aCtrl","ngModel"],["type","number","name","a","required","",3,"ngModelChange","ngModel"],[3,"hidden"],["type","number","name","b","required","",3,"ngModelChange","ngModel"],[3,"click"],["id","spanRes"],[1,"c2",3,"mousemove","mouseout"]],template:function(r,t){if(r&1){let n=Ne();p(0,"p"),u(1,"calculatrice"),d(),p(2,"label"),u(3,"a:"),d(),p(4,"input",1,0),q("ngModelChange",function(o){return V(n),G(t.a,o)||(t.a=o),U(o)}),d(),p(6,"div",2),u(7),kt(8,"json"),d(),E(9,"br"),p(10,"label"),u(11,"b:"),d(),p(12,"input",3),q("ngModelChange",function(o){return V(n),G(t.b,o)||(t.b=o),U(o)}),d(),E(13,"br"),p(14,"button",4),A("click",function(){return V(n),U(t.onCalculer("+"))}),u(15,"+"),d(),u(16,` \xA0
`),p(17,"button",4),A("click",function(){return V(n),U(t.onCalculer("-"))}),u(18,"-"),d(),u(19,` \xA0
`),p(20,"button",4),A("click",function(){return V(n),U(t.onCalculer("*"))}),u(21,"*"),d(),u(22,` \xA0
`),p(23,"button",4),A("click",function(){return V(n),U(t.onCalculer("/"))}),u(24,"/"),d(),E(25,"br"),u(26,`
res= `),p(27,"span",5),u(28),d(),E(29,"hr"),p(30,"div",6),A("mousemove",function(o){return V(n),U(t.onMouseMove(o))})("mouseout",function(o){return V(n),U(t.onMouseLeave(o))}),u(31," Zone \xE0 survoler \xE0 la souris ."),E(32,"br"),u(33),d()}if(r&2){let n=Et(5);b(4),W("ngModel",t.a),b(2),F("hidden",n.valid),b(),B(Ta(8,13,n.errors)),b(5),W("ngModel",t.b),b(8),me("visibility",t.modeChoisi=="simple"?"hidden":"visible"),b(7),me("font-weight",t.res>0?"bold":"normal"),Ee("negatif",t.res<0),b(),B(t.res),b(5),Sa(" x=",t.x," , y=",t.y," ")}},dependencies:[ge,rt,ve,Ft,Ce,Ua]})};var Dr=class i{constructor(){}calculTva(e,r){return e*r/100}addition(e,r){return Number(e)+Number(r)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ar=class i{transform(e,...r){let t=e,n=r[0]||"1.0-2",s=Number(n.split("-")[1]);return t.toFixed(s)}static \u0275fac=function(r){return new(r||i)};static \u0275pipe=va({name:"mynumber",type:i,pure:!0})};function am(i,e){if(i&1&&(p(0,"option",8),u(1),d()),i&2){let r=e.$implicit;F("ngValue",r),b(),ne("",r,"%")}}function cm(i,e){if(i&1&&(p(0,"div"),u(1," tva="),p(2,"span",9),u(3),kt(4,"mynumber"),d(),E(5,"br"),u(6,`
ttc=`),p(7,"span",10),u(8),kt(9,"mynumber"),d(),E(10,"br"),d()),i&2){let r=ke();b(3),B(Ti(4,2,r.tva,"1.0-2")),b(5),B(Ti(9,5,r.ttc,"1.0-2"))}}function lm(i,e){if(i&1){let r=Ne();p(0,"li",11),A("click",function(){let n=V(r).$implicit,s=ke();return U(s.onSelectTaux(n))}),u(1),d()}if(i&2){let r=e.$implicit,t=ke();Ee("enEvidence",r===t.tauxSel),b(),ne("",r,"%")}}var xr=class i{constructor(e){this._calculService=e;this.mapTauxCategorieProd.set(20,["services","outils","objets"]),this.mapTauxCategorieProd.set(10,["transports","hotels","restaurants","spectacles","m\xE9dicaments"]),this.mapTauxCategorieProd.set(5,["aliments","\xE9nergies","livres"])}listeTaux=[5,10,20];ht=0;taux=20;tva=0;ttc=0;onCalculerTvaTtc(){this.tva=this._calculService.calculTva(this.ht,this.taux),this.ttc=this._calculService.addition(this.tva,this.ht)}mapTauxCategorieProd=new Map;tauxSel=void 0;listeCategoriePourTauxSel=[];onSelectTaux(e){this.tauxSel=e,this.listeCategoriePourTauxSel=this.mapTauxCategorieProd.get(e)??[]}static \u0275fac=function(r){return new(r||i)(C(Dr))};static \u0275cmp=N({type:i,selectors:[["app-tva"]],decls:24,vars:6,consts:[["name","ht","type","number",3,"input","ngModelChange","ngModel"],["name","taux",3,"ngModelChange","change","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"myFlexRow"],[1,"myFlexCell"],[3,"enEvidence","click",4,"ngFor","ngForOf"],[1,"enEvidence"],[3,"ngValue"],["id","spanTva",1,"enEvidence"],["id","spanTtc",1,"enEvidence"],[3,"click"]],template:function(r,t){r&1&&(p(0,"p"),u(1,"calcul tva"),d(),p(2,"label"),u(3,"ht:"),d(),p(4,"input",0),A("input",function(){return t.onCalculerTvaTtc()}),q("ngModelChange",function(s){return G(t.ht,s)||(t.ht=s),s}),d(),E(5,"br"),p(6,"label"),u(7,"tauxTva(%):"),d(),p(8,"select",1),q("ngModelChange",function(s){return G(t.taux,s)||(t.taux=s),s}),A("change",function(){return t.onCalculerTvaTtc()}),ie(9,am,2,2,"option",2),d(),E(10,"br"),ie(11,cm,11,8,"div",3),E(12,"hr"),p(13,"div",4)(14,"div",5)(15,"h6"),u(16,"principaux taux de tva:"),d(),p(17,"ul"),ie(18,lm,2,3,"li",6),d()(),p(19,"div",5)(20,"h6"),u(21,"principales cat\xE9gories pour le taux s\xE9lectionn\xE9:"),d(),p(22,"p",7),u(23),d()()()),r&2&&(b(4),W("ngModel",t.ht),b(4),W("ngModel",t.taux),b(),F("ngForOf",t.listeTaux),b(2),F("ngIf",t.ht>0),b(7),F("ngForOf",t.listeTaux),b(5),B(t.listeCategoriePourTauxSel))},dependencies:[Fe,qt,ei,ti,ge,rt,vt,ve,Ce,Ar],styles:[".myFlexRow[_ngcontent-%COMP%]{width:100%;display:flex;flex-flow:row nowrap}.myFlexCell[_ngcontent-%COMP%]{flex:1 1 auto;text-align:left;padding:2px}.enEvidence[_ngcontent-%COMP%]{color:#00f;font-weight:700}"]})};function Bt(i,e=""){let r="";if(i.error instanceof Error)console.log("Client-side error occured."+JSON.stringify(i)),r=e;else{console.log("Server-side error occured : "+JSON.stringify(i));let t=i.error&&i.error.message?":"+i.error.message:"";r=e+" (status="+i.status+":"+i.statusText+") "+t}return r}function fn(i,e=""){return i instanceof We?Bt(i,e):JSON.stringify(i)}var mi=class i{constructor(e){this.http=e}_withoutSecurity=!1;set withoutSecurity(e){this._withoutSecurity=e,this.publicOrPrivateBaseUrl=this._withoutSecurity?this.publicBaseUrl:this.privateBaseUrl}get withoutSecurity(){return this._withoutSecurity}_apiBaseUrl="/tp/devise-api/v1";publicBaseUrl=`${this._apiBaseUrl}/public`;privateBaseUrl=`${this._apiBaseUrl}/private`;publicOrPrivateBaseUrl=this.privateBaseUrl;getAllDevises$(){let e=`${this.publicBaseUrl}/devises`;return console.log("url = "+e),this.http.get(e).pipe(k(r=>r.sort((t,n)=>t?t.code.localeCompare(n.code):0)))}getDeviseByCode$(e){let r=`${this.publicBaseUrl}/devises/${e}`;return console.log("url = "+r),this.http.get(r)}deleteDevise$(e){let r=`${this.publicOrPrivateBaseUrl}/devises/${e}?v=true`;return console.log("deleteUrl="+r),this.http.delete(r)}postDevise$(e){let r=`${this.publicOrPrivateBaseUrl}/devises`;return this.http.post(r,e)}putDevise$(e){let r=e.code,t=`${this.publicOrPrivateBaseUrl}/devises/${r}?v=true`;return this.http.put(t,e)}convertir$(e,r,t){let n=this.publicBaseUrl+`/convert?source=${r}&target=${t}&amount=${e}`;return console.log("url="+n),this.http.get(n).pipe(k(s=>s.result))}static \u0275fac=function(r){return new(r||i)(w(Rt))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};function dm(i,e){if(i&1&&(p(0,"option"),u(1),d()),i&2){let r=e.$implicit;b(),B(r.code)}}function um(i,e){if(i&1&&(p(0,"option"),u(1),d()),i&2){let r=e.$implicit;b(),B(r.code)}}var Mr=class i{constructor(e){this._deviseService=e}platform=_(pe);montant=0;codeDeviseSource="?";codeDeviseCible="?";montantConverti=0;message="";codeToUpdate="?";changeToUpdate=1;listeDevises=[];onConvertir(){console.log("debut de onConvertir"),this._deviseService.convertir$(this.montant,this.codeDeviseSource,this.codeDeviseCible).subscribe({next:e=>{this.montantConverti=e,console.log("resultat obtenu en diff\xE9r\xE9")},error:e=>{console.log("error:"+e),this.message=Bt(e,"echec convertir")}}),console.log("suite imm\xE9diate (sans attente) de onConvertir")}onConvertirV2(){return re(this,null,function*(){try{this.montantConverti=yield $e(this._deviseService.convertir$(this.montant,this.codeDeviseSource,this.codeDeviseCible))}catch(e){console.log(e),this.message=e}})}onUpdate(){return re(this,null,function*(){try{let e,r;for(e of this.listeDevises)e.code==this.codeToUpdate&&(r=JSON.parse(JSON.stringify(e)));r==null?this.message="pas de devise pour ce code":(r.change=this.changeToUpdate,yield $e(this._deviseService.putDevise$(r)),this.message="mise \xE0 jour ok")}catch(e){console.log(e),this.message=JSON.stringify(e)}})}initListeDevises(e){this.listeDevises=e,e&&e.length>0&&(this.codeDeviseSource=e[0].code,this.codeDeviseCible=e[0].code)}ngOnInit(){it(this.platform)&&this._deviseService.getAllDevises$().subscribe({next:e=>{this.initListeDevises(e)},error:e=>{console.log("error:"+e)}})}static \u0275fac=function(r){return new(r||i)(C(mi))};static \u0275cmp=N({type:i,selectors:[["app-conversion"]],decls:30,vars:9,consts:[[3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],["type","button","value","convertir",3,"click"],[3,"click"]],template:function(r,t){r&1&&(p(0,"h3"),u(1,"conversion de devise"),d(),u(2,`
montant : `),p(3,"input",0),q("ngModelChange",function(s){return G(t.montant,s)||(t.montant=s),s}),d(),E(4,"br"),u(5,`
code devise source : `),p(6,"select",0),q("ngModelChange",function(s){return G(t.codeDeviseSource,s)||(t.codeDeviseSource=s),s}),ie(7,dm,2,1,"option",1),d(),E(8,"br"),u(9,`
code devise cible : `),p(10,"select",0),q("ngModelChange",function(s){return G(t.codeDeviseCible,s)||(t.codeDeviseCible=s),s}),ie(11,um,2,1,"option",1),d(),E(12,"br"),p(13,"input",2),A("click",function(){return t.onConvertirV2()}),d(),E(14,"br"),u(15),E(16,"br")(17,"hr"),u(18),E(19,"hr"),u(20,`
code devise a modifier: `),p(21,"input",0),q("ngModelChange",function(s){return G(t.codeToUpdate,s)||(t.codeToUpdate=s),s}),d(),u(22," (ex: JPY , GBP, ...) "),E(23,"br"),u(24,`
nouveau change: `),p(25,"input",0),q("ngModelChange",function(s){return G(t.changeToUpdate,s)||(t.changeToUpdate=s),s}),d(),u(26," (ex: 0.9 , 1.1 ) "),E(27,"br"),p(28,"button",3),A("click",function(){return t.onUpdate()}),u(29,"update devise"),d()),r&2&&(b(3),W("ngModel",t.montant),b(3),W("ngModel",t.codeDeviseSource),b(),F("ngForOf",t.listeDevises),b(3),W("ngModel",t.codeDeviseCible),b(),F("ngForOf",t.listeDevises),b(4),ne(`
montantConverti = `,t.montantConverti," "),b(3),ne(`
`,t.message,`
`),b(3),W("ngModel",t.codeToUpdate),b(4),W("ngModel",t.changeToUpdate))},dependencies:[Fe,ei,ti,ge,vt,ve,Ce]})};var wt=class i{bsSeuilMaxi=new ue(100);changerSeuil(e){this.bsSeuilMaxi.next(e)}get seuilMaxiObservable(){return this.bsSeuilMaxi}tabProduit=[{numero:5,label:"produit 5",prix:120},{numero:1,label:"produit 1",prix:50},{numero:2,label:"produit 2",prix:30},{numero:3,label:"produit 3",prix:80},{numero:4,label:"produit 4",prix:500},{numero:6,label:"produit 6",prix:20}];rechercherNombreProduitSimu$(e){return this.rechercherProduitSimu$(e).pipe(k(r=>r.length))}rechercherProduitSimu$(e){return S(this.tabProduit).pipe(ce(r=>r),k(r=>(r.label=r.label.toUpperCase(),r)),J(r=>r.prix<=e),da(),k(r=>r.sort((t,n)=>t.prix-n.prix)))}constructor(){}static \u0275fac=function(r){return new(r||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Rr=class i{width="100";changeEvent=new he;onCurseur(e){let n=e.offsetX/Number(this.width)*100;this.changeEvent.emit({value:n})}constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=N({type:i,selectors:[["app-reglette"]],inputs:{width:"width"},outputs:{changeEvent:"changeEvent"},decls:1,vars:2,consts:[[1,"reglette",3,"click"]],template:function(r,t){r&1&&(p(0,"div",0),A("click",function(s){return t.onCurseur(s)}),d()),r&2&&me("width",t.width,"px")},styles:[".reglette[_ngcontent-%COMP%]{width:100px;height:40px;background:linear-gradient(to right,#fff,#00f);border-style:solid;border-width:2px;border-color:#00f}"]})};var Or=class i{constructor(e){this._produitService=e}seuilMax=100;onSeuilChange(){this._produitService.changerSeuil(this.seuilMax)}ngOnInit(){}static \u0275fac=function(r){return new(r||i)(C(wt))};static \u0275cmp=N({type:i,selectors:[["app-seuil"]],decls:3,vars:1,consts:[["type","number",3,"ngModelChange","ngModel"]],template:function(r,t){r&1&&(p(0,"label"),u(1,"seuilMax"),d(),p(2,"input",0),q("ngModelChange",function(s){return G(t.seuilMax,s)||(t.seuilMax=s),s}),A("ngModelChange",function(){return t.onSeuilChange()}),d()),r&2&&(b(2),W("ngModel",t.seuilMax))},dependencies:[ge,rt,ve,Ce]})};function mm(i,e){if(i&1&&(p(0,"tr")(1,"td"),u(2),d(),p(3,"td"),u(4),d(),p(5,"td"),u(6),d()()),i&2){let r=e.$implicit;b(2),B(r.numero),b(2),B(r.label),b(2),B(r.prix)}}var Pr=class i{constructor(e){this._produitService=e;this._produitService.seuilMaxiObservable.subscribe(r=>this.actualiserListeProduitSelonSeuilMaxi(r))}listeProduits=[];actualiserListeProduitSelonSeuilMaxi(e){this._produitService.rechercherProduitSimu$(e).subscribe(r=>{this.listeProduits=r})}ngOnInit(){}static \u0275fac=function(r){return new(r||i)(C(wt))};static \u0275cmp=N({type:i,selectors:[["app-list-prod"]],decls:11,vars:1,consts:[["border","1"],[4,"ngFor","ngForOf"]],template:function(r,t){r&1&&(p(0,"p"),u(1,"list-prod "),d(),p(2,"table",0)(3,"tr")(4,"th"),u(5,"numero"),d(),p(6,"th"),u(7,"label"),d(),p(8,"th"),u(9,"prix"),d()(),ie(10,mm,7,3,"tr",1),d()),r&2&&(b(10),F("ngForOf",t.listeProduits))},dependencies:[Fe]})};function gm(i,e){if(i&1){let r=Ne();p(0,"li",4),A("click",function(){let n=V(r).$implicit,s=ke();return U(s.onSelectCategorie(n))}),u(1),d()}if(i&2){let r=e.$implicit,t=ke();Ee("selected",r==t.categorie),b(),B(r)}}function vm(i,e){if(i&1&&(p(0,"tr")(1,"td"),u(2),d(),p(3,"td"),u(4),d(),p(5,"td"),u(6),d()()),i&2){let r=e.$implicit;b(2),B(r.ref),b(2),B(r.label),b(2),B(r.prix)}}function bm(i,e){if(i&1&&(p(0,"div",1)(1,"h3"),u(2),d(),p(3,"table",5)(4,"tr")(5,"th"),u(6,"ref"),d(),p(7,"th"),u(8,"label"),d(),p(9,"th"),u(10,"prix"),d()(),ie(11,vm,7,3,"tr",6),d()()),i&2){let r=ke();b(2),ne("produits de la cat\xE9gorie ",r.categorie," :"),b(9),F("ngForOf",r.listeProduits)}}var Ct=class{constructor(e="?",r="?",t=0){this.ref=e;this.label=r;this.prix=t}},Nr=class i{listeCategories=["cd","dvd","other"];categorie;mapCategorieProduits=new Map;listeProduits;onSelectCategorie(e){this.categorie=e,console.log("categorieChoisie="+this.categorie),this.listeProduits=this.mapCategorieProduits.get(this.categorie),console.log("listeProduits="+JSON.stringify(this.listeProduits))}constructor(){this.mapCategorieProduits.set("cd",[new Ct("p1","CD1",5.6),new Ct("p2","CD2",9.6)]),this.mapCategorieProduits.set("dvd",[new Ct("p3","DVD a",15.6),new Ct("p4","DVD b",19.6)]),this.mapCategorieProduits.set("other",[new Ct("p5","smartPhone",255.6),new Ct("p6","TV",567.6)])}ngOnInit(){}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=N({type:i,selectors:[["app-zz"]],decls:8,vars:2,consts:[[1,"myWrapFlexbox"],[1,"myColItem"],[3,"selected","click",4,"ngFor","ngForOf"],["class","myColItem",4,"ngIf"],[3,"click"],["border","1"],[4,"ngFor","ngForOf"]],template:function(r,t){r&1&&(p(0,"div",0)(1,"div",1)(2,"h3"),u(3,"cat\xE9gorie \xE0 selectionner:"),d(),p(4,"ul"),ie(5,gm,2,3,"li",2),d(),E(6,"br"),d(),ie(7,bm,12,2,"div",3),d()),r&2&&(b(5),F("ngForOf",t.listeCategories),b(2),F("ngIf",t.categorie))},dependencies:[Fe,qt],styles:[".selected[_ngcontent-%COMP%]{color:#00f;font-weight:700}.myWrapFlexbox[_ngcontent-%COMP%]{padding:1em;display:flex;flex-flow:row wrap}.myColItem[_ngcontent-%COMP%]{flex:1 1 auto;text-align:left;padding:2px;margin:8px}"]})};var Fr=class i{constructor(e){this.produitService=e;this.produitService.seuilMaxiObservable.subscribe(r=>{this.actualiserNbProd(r)})}valeurCurseur=0;onChangeCurseur(e){let r=e;this.valeurCurseur=r.value}nbProdPrixInferieurSeuilMaxi=0;actualiserNbProd(e){this.produitService.rechercherNombreProduitSimu$(e).subscribe(r=>{this.nbProdPrixInferieurSeuilMaxi=r})}ngOnInit(){}static \u0275fac=function(r){return new(r||i)(C(wt))};static \u0275cmp=N({type:i,selectors:[["app-demo"]],decls:10,vars:2,consts:[["width","200",3,"changeEvent"]],template:function(r,t){r&1&&(E(0,"app-seuil"),p(1,"p"),u(2),d(),E(3,"hr")(4,"app-list-prod")(5,"hr"),p(6,"app-reglette",0),A("changeEvent",function(s){return t.onChangeCurseur(s)}),d(),u(7),E(8,"hr")(9,"app-zz")),r&2&&(b(2),ne("nbProd : ",t.nbProdPrixInferieurSeuilMaxi,""),b(5),ne(" curseur = ",t.valeurCurseur,`
`))},dependencies:[Rr,Or,Pr,Nr]})};var Lr=class i{set borderColor(e){e!=""&&(this._borderColor=e)}_borderColor="red";_borderStyle="hidden";constructor(e){e.nativeElement.style._borderWidth="2px"}onMouseEnter(){this._borderStyle="solid"}onMouseLeave(){this._borderStyle="hidden"}static \u0275fac=function(r){return new(r||i)(C(we))};static \u0275dir=L({type:i,selectors:[["","borderOver",""]],hostVars:4,hostBindings:function(r,t){r&1&&A("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()}),r&2&&me("border-color",t._borderColor)("border-style",t._borderStyle)},inputs:{borderColor:[0,"borderOver","borderColor"]}})};var jr=class i{static \u0275fac=function(r){return new(r||i)};static \u0275cmp=N({type:i,selectors:[["app-welcome"]],decls:7,vars:0,consts:[[2,"min-height","80px"],["borderOver","blue","src","favicon.ico"],["borderOver","","src","favicon.ico"],["borderOver","green","src","favicon.ico"]],template:function(r,t){r&1&&(p(0,"h2"),u(1,"welcome to angular app"),d(),E(2,"hr"),p(3,"div",0),E(4,"img",1)(5,"img",2)(6,"img",3),d())},dependencies:[Lr]})};var td=(i,e)=>{let r=sessionStorage.getItem("access_token");return console.log("authGardGuard with token="+r),r!=null&&r!=""&&r!="null"?!0:S(Ro(i,["../ngr-login"]))};var Vr=class{constructor(e="",r="",t=""){this.username=e;this.password=r;this.roles=t}};var ct=class{constructor(e="?",r=!1,t="?",n=[]){this.username=e;this.authenticated=r;this.roles=t;this.grantedScopes=n}};var Ur=class i{constructor(e){this.http=e}baseUrl="/tp/standalone-login-api/v1/public";postLogin$(e){let r=this.baseUrl+"/auth";return this.http.post(r,e)}static \u0275fac=function(r){return new(r||i)(w(Rt))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Qe=class i{bsUserInSession=new ue(new ct);get userInSession$(){return this.bsUserInSession}set userInSession$(e){this.bsUserInSession.next(e)}constructor(){}static \u0275fac=function(r){return new(r||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Hr=class i{constructor(e,r,t){this.loginService=e;this._sessionService=r;this.router=t}login=new Vr("user1","pwd1","user");message="";status=!1;onLoginV1(){this.loginService.postLogin$(this.login).subscribe({next:e=>{this.message=e.message,this.status=e.status},error:e=>{console.log("error:"+e),this.message=Bt(e,"echec login")}})}onLogin(){return re(this,null,function*(){sessionStorage.setItem("access_token","");try{let e=yield $e(this.loginService.postLogin$(this.login));console.log("loginResponse="+JSON.stringify(e)),this.message=e.message,this.status=e.status,sessionStorage.setItem("access_token",e.token),e.status==!0?this._sessionService.userInSession$=new ct(e.username,!0,"?",[]):this._sessionService.userInSession$=new ct("?",!1,"?",[])}catch(e){console.log("error:"+e),this.message="echec login"}})}static \u0275fac=function(r){return new(r||i)(C(Ur),C(Qe),C(Ve))};static \u0275cmp=N({type:i,selectors:[["app-login"]],decls:29,vars:7,consts:[["formLogin","ngForm"],["usernameCtrl","ngModel"],[1,"form-group","row"],[1,"col-sm-3"],[1,"col-sm-9"],["name","username","required","","pattern","^[a-zA-Z].+",1,"form-control",3,"ngModelChange","ngModel"],["name","password","required","","minlength","3",1,"form-control",3,"ngModelChange","ngModel"],["name","roles","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-9","offset-3"],[1,"btn","btn-primary",3,"click","disabled"],[1,"badge","badge-primary"],[1,"bi","bi-person"]],template:function(r,t){if(r&1){let n=Ne();p(0,"p"),u(1,"login"),d(),p(2,"form",null,0)(4,"div",2)(5,"label",3),u(6,"username:"),d(),p(7,"div",4)(8,"input",5,1),q("ngModelChange",function(o){return V(n),G(t.login.username,o)||(t.login.username=o),U(o)}),d()()(),p(10,"div",2)(11,"label",3),u(12,"password:"),d(),p(13,"div",4)(14,"input",6),q("ngModelChange",function(o){return V(n),G(t.login.password,o)||(t.login.password=o),U(o)}),d()()(),p(15,"div",2)(16,"label",3),u(17,"roles:"),d(),p(18,"div",4)(19,"input",7),q("ngModelChange",function(o){return V(n),G(t.login.roles,o)||(t.login.roles=o),U(o)}),d()()(),p(20,"div",2)(21,"div",8)(22,"button",9),A("click",function(){return V(n),U(t.onLogin())}),u(23,"submit/login "),p(24,"span",10),E(25,"i",11),d()()()()(),p(26,"span"),u(27),d(),E(28,"br")}if(r&2){let n=Et(3);b(8),W("ngModel",t.login.username),b(6),W("ngModel",t.login.password),b(5),W("ngModel",t.login.roles),b(3),F("disabled",!n.form.valid),b(4),me("color",t.status?"green":"red"),b(),B(t.message)}},dependencies:[Xt,ge,ve,Jt,Ft,Gi,eo,Ce,Wi]})};var $r=class{validateSignature(e){return Promise.resolve(null)}validateAtHash(e){return Promise.resolve(!0)}},zr=class{};var gn=class{},Cm=(()=>{let e=class e extends gn{now(){return Date.now()}new(){return new Date}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Ie(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})();var Wr=class{},Gr=class{},Im=(()=>{let e=class e{constructor(){this.data=new Map}getItem(t){return this.data.get(t)}removeItem(t){this.data.delete(t)}setItem(t,n){this.data.set(t,n)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})();var vn=class{constructor(e){this.type=e}},de=class extends vn{constructor(e,r=null){super(e),this.info=r}},xe=class extends vn{constructor(e,r=null){super(e),this.info=r}},K=class extends vn{constructor(e,r,t=null){super(e),this.reason=r,this.params=t}};function id(i){let e=i.replace(/-/g,"+").replace(/_/g,"/");return decodeURIComponent(atob(e).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function nd(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var fi=class{constructor(e){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.redirectUriAsPostLogoutRedirectUriFallback=!0,this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.revocationEndpoint=null,this.customTokenParameters=[],this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=1e3*20,this.silentRefreshTimeout=1e3*20,this.dummyClientSecret="",this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3*1e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.decreaseExpirationBySec=0,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.preserveRequestedRoute=!1,this.disableIdTokenTimer=!1,this.checkOrigin=!1,this.openUri=r=>{location.href=r},e&&Object.assign(this,e)}},Ht=class{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}},qr=class{};var rd=(()=>{let e=class e{getHashFragmentParams(t){let n=t||window.location.hash;if(n=decodeURIComponent(n),n.indexOf("#")!==0)return{};let s=n.indexOf("?");return s>-1?n=n.substr(s+1):n=n.substr(1),this.parseQueryString(n)}parseQueryString(t){let n={},s,o,a,l,c,m;if(t===null)return n;let f=t.split("&");for(let h=0;h<f.length;h++)s=f[h],o=s.indexOf("="),o===-1?(a=s,l=null):(a=s.substr(0,o),l=s.substr(o+1)),c=decodeURIComponent(a),m=decodeURIComponent(l),c.substr(0,1)==="/"&&(c=c.substr(1)),n[c]=m;return n}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),sd=32,Sm=64,Tm=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function Bo(i,e,r,t,n){let s,o,a,l,c,m,f,h,v,g,x,T,M;for(;n>=64;){for(s=e[0],o=e[1],a=e[2],l=e[3],c=e[4],m=e[5],f=e[6],h=e[7],g=0;g<16;g++)x=t+g*4,i[g]=(r[x]&255)<<24|(r[x+1]&255)<<16|(r[x+2]&255)<<8|r[x+3]&255;for(g=16;g<64;g++)v=i[g-2],T=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,v=i[g-15],M=(v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3,i[g]=(T+i[g-7]|0)+(M+i[g-16]|0);for(g=0;g<64;g++)T=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&m^~c&f)|0)+(h+(Tm[g]+i[g]|0)|0)|0,M=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&o^s&a^o&a)|0,h=f,f=m,m=c,c=l+T|0,l=a,a=o,o=s,s=T+M|0;e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=l,e[4]+=c,e[5]+=m,e[6]+=f,e[7]+=h,t+=64,n-=64}return t}var Ho=class{constructor(){this.digestLength=sd,this.blockSize=Sm,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}reset(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this}clean(){for(let e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(let e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()}update(e,r=e.length){if(this.finished)throw new Error("SHA256: can't update because hash was finished.");let t=0;if(this.bytesHashed+=r,this.bufferLength>0){for(;this.bufferLength<64&&r>0;)this.buffer[this.bufferLength++]=e[t++],r--;this.bufferLength===64&&(Bo(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(r>=64&&(t=Bo(this.temp,this.state,e,t,r),r%=64);r>0;)this.buffer[this.bufferLength++]=e[t++],r--;return this}finish(e){if(!this.finished){let r=this.bytesHashed,t=this.bufferLength,n=r/536870912|0,s=r<<3,o=r%64<56?64:128;this.buffer[t]=128;for(let a=t+1;a<o-8;a++)this.buffer[a]=0;this.buffer[o-8]=n>>>24&255,this.buffer[o-7]=n>>>16&255,this.buffer[o-6]=n>>>8&255,this.buffer[o-5]=n>>>0&255,this.buffer[o-4]=s>>>24&255,this.buffer[o-3]=s>>>16&255,this.buffer[o-2]=s>>>8&255,this.buffer[o-1]=s>>>0&255,Bo(this.temp,this.state,this.buffer,0,o),this.finished=!0}for(let r=0;r<8;r++)e[r*4+0]=this.state[r]>>>24&255,e[r*4+1]=this.state[r]>>>16&255,e[r*4+2]=this.state[r]>>>8&255,e[r*4+3]=this.state[r]>>>0&255;return this}digest(){let e=new Uint8Array(this.digestLength);return this.finish(e),e}_saveState(e){for(let r=0;r<this.state.length;r++)e[r]=this.state[r]}_restoreState(e,r){for(let t=0;t<this.state.length;t++)this.state[t]=e[t];this.bytesHashed=r,this.finished=!1,this.bufferLength=0}};function Em(i){let e=new Ho().update(i),r=e.digest();return e.clean(),r}var gv=new Uint8Array(sd);var Kr=class{};function km(i){if(typeof i!="string")throw new TypeError("expected string");let e=i,r=new Uint8Array(e.length);for(let t=0;t<e.length;t++)r[t]=e.charCodeAt(t);return r}function Dm(i){let e=[];for(let r=0;r<i.length;r++)e.push(String.fromCharCode(i[r]));return e.join("")}var Am=(()=>{let e=class e{calcHash(t,n){return re(this,null,function*(){return Dm(Em(km(t)))})}toHashString2(t){let n="";for(let s of t)n+=String.fromCharCode(s);return n}toHashString(t){let n=new Uint8Array(t),s="";for(let o of n)s+=String.fromCharCode(o);return s}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),Zr=(()=>{let e=class e extends fi{constructor(t,n,s,o,a,l,c,m,f,h){super(),this.ngZone=t,this.http=n,this.config=a,this.urlHelper=l,this.logger=c,this.crypto=m,this.dateTimeService=h,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new _e,this.discoveryDocumentLoadedSubject=new _e,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.saveNoncesInLocalStorage=!1,this.debug("angular-oauth2-oidc v10"),this.document=f,a||(a={}),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),o&&(this.tokenValidationHandler=o),a&&this.configure(a);try{s?this.setStorage(s):typeof sessionStorage<"u"&&this.setStorage(sessionStorage)}catch(v){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",v)}if(this.checkLocalStorageAccessable()){let v=window?.navigator?.userAgent;(v?.includes("MSIE ")||v?.includes("Trident"))&&(this.saveNoncesInLocalStorage=!0)}this.setupRefreshTimer()}checkLocalStorageAccessable(){if(typeof window>"u")return!1;let t="test";try{return typeof window.localStorage>"u"?!1:(localStorage.setItem(t,t),localStorage.removeItem(t),!0)}catch{return!1}}configure(t){Object.assign(this,new fi,t),this.config=Object.assign({},new fi,t),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(J(t=>t.type==="token_received")).subscribe(()=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(t={},n,s=!0){let o=!0;this.clearAutomaticRefreshTimer(),this.automaticRefreshSubscription=this.events.pipe(te(a=>{a.type==="token_received"?o=!0:a.type==="logout"&&(o=!1)}),J(a=>a.type==="token_expires"&&(n==null||n==="any"||a.info===n)),In(1e3)).subscribe(()=>{o&&this.refreshInternal(t,s).catch(()=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(t,n){return!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken():this.silentRefresh(t,n)}loadDiscoveryDocumentAndTryLogin(t=null){return this.loadDiscoveryDocument().then(()=>this.tryLogin(t))}loadDiscoveryDocumentAndLogin(t=null){return t=t||{},this.loadDiscoveryDocumentAndTryLogin(t).then(()=>{if(!this.hasValidIdToken()||!this.hasValidAccessToken()){let n=typeof t.state=="string"?t.state:"";return this.initLoginFlow(n),!1}else return!0})}debug(...t){this.showDebugInformation&&this.logger.debug(...t)}validateUrlFromDiscoveryDocument(t){let n=[],s=this.validateUrlForHttps(t),o=this.validateUrlAgainstIssuer(t);return s||n.push("https for all urls required. Also for urls received by discovery."),o||n.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),n}validateUrlForHttps(t){if(!t)return!0;let n=t.toLowerCase();return this.requireHttps===!1||(n.match(/^http:\/\/localhost($|[:/])/)||n.match(/^http:\/\/localhost($|[:/])/))&&this.requireHttps==="remoteOnly"?!0:n.startsWith("https://")}assertUrlNotNullAndCorrectProtocol(t,n){if(!t)throw new Error(`'${n}' should not be null`);if(!this.validateUrlForHttps(t))throw new Error(`'${n}' must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).`)}validateUrlAgainstIssuer(t){return!this.strictDiscoveryDocumentValidation||!t?!0:t.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){if(typeof window>"u"){this.debug("timer not supported on this plattform");return}(this.hasValidIdToken()||this.hasValidAccessToken())&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.tokenReceivedSubscription&&this.tokenReceivedSubscription.unsubscribe(),this.tokenReceivedSubscription=this.events.pipe(J(t=>t.type==="token_received")).subscribe(()=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})}setupExpirationTimers(){this.hasValidAccessToken()&&this.setupAccessTokenTimer(),!this.disableIdTokenTimer&&this.hasValidIdToken()&&this.setupIdTokenTimer()}setupAccessTokenTimer(){let t=this.getAccessTokenExpiration(),n=this.getAccessTokenStoredAt(),s=this.calcTimeout(n,t);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=S(new xe("token_expires","access_token")).pipe(Sn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}setupIdTokenTimer(){let t=this.getIdTokenExpiration(),n=this.getIdTokenStoredAt(),s=this.calcTimeout(n,t);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=S(new xe("token_expires","id_token")).pipe(Sn(s)).subscribe(o=>{this.ngZone.run(()=>{this.eventsSubject.next(o)})})})}stopAutomaticRefresh(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.clearAutomaticRefreshTimer()}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}clearAutomaticRefreshTimer(){this.automaticRefreshSubscription&&this.automaticRefreshSubscription.unsubscribe()}calcTimeout(t,n){let s=this.dateTimeService.now(),o=(n-t)*this.timeoutFactor-(s-t),a=Math.max(0,o),l=2147483647;return a>l?l:a}setStorage(t){this._storage=t,this.configChanged()}loadDiscoveryDocument(t=null){return new Promise((n,s)=>{if(t||(t=this.issuer||"",t.endsWith("/")||(t+="/"),t+=".well-known/openid-configuration"),!this.validateUrlForHttps(t)){s("issuer  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return}this.http.get(t).subscribe(o=>{if(!this.validateDiscoveryDocument(o)){this.eventsSubject.next(new K("discovery_document_validation_error",null)),s("discovery_document_validation_error");return}this.loginUrl=o.authorization_endpoint,this.logoutUrl=o.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=o.grant_types_supported,this.issuer=o.issuer,this.tokenEndpoint=o.token_endpoint,this.userinfoEndpoint=o.userinfo_endpoint||this.userinfoEndpoint,this.jwksUri=o.jwks_uri,this.sessionCheckIFrameUrl=o.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(o),this.revocationEndpoint=o.revocation_endpoint||this.revocationEndpoint,this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(a=>{let l={discoveryDocument:o,jwks:a},c=new de("discovery_document_loaded",l);this.eventsSubject.next(c),n(c)}).catch(a=>{this.eventsSubject.next(new K("discovery_document_load_error",a)),s(a)})},o=>{this.logger.error("error loading discovery document",o),this.eventsSubject.next(new K("discovery_document_load_error",o)),s(o)})})}loadJwks(){return new Promise((t,n)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(s=>{this.jwks=s,t(s)},s=>{this.logger.error("error loading jwks",s),this.eventsSubject.next(new K("jwks_load_error",s)),n(s)}):t(null)})}validateDiscoveryDocument(t){let n;return!this.skipIssuerCheck&&t.issuer!==this.issuer?(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+t.issuer),!1):(n=this.validateUrlFromDiscoveryDocument(t.authorization_endpoint),n.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.end_session_endpoint),n.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.token_endpoint),n.length>0&&this.logger.error("error validating token_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(t.revocation_endpoint),n.length>0&&this.logger.error("error validating revocation_endpoint in discovery document",n),n=this.validateUrlFromDiscoveryDocument(t.userinfo_endpoint),n.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",n),!1):(n=this.validateUrlFromDiscoveryDocument(t.jwks_uri),n.length>0?(this.logger.error("error validating jwks_uri in discovery document",n),!1):(this.sessionChecksEnabled&&!t.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)))))}fetchTokenUsingPasswordFlowAndLoadUserProfile(t,n,s=new oe){return this.fetchTokenUsingPasswordFlow(t,n,s).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");return new Promise((t,n)=>{let s=new oe().set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:s,observe:"response",responseType:"text"}).subscribe(o=>{if(this.debug("userinfo received",JSON.stringify(o)),o.headers.get("content-type").startsWith("application/json")){let a=JSON.parse(o.body),l=this.getIdentityClaims()||{};if(!this.skipSubjectCheck&&this.oidc&&(!l.sub||a.sub!==l.sub)){n(`if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.
if you are not using oidc but just oauth2 password flow set oidc to false`);return}a=Object.assign({},l,a),this._storage.setItem("id_token_claims_obj",JSON.stringify(a)),this.eventsSubject.next(new de("user_profile_loaded")),t({info:a})}else this.debug("userinfo is not JSON, treating it as JWE/JWS"),this.eventsSubject.next(new de("user_profile_loaded")),t(JSON.parse(o.body))},o=>{this.logger.error("error loading user info",o),this.eventsSubject.next(new K("user_profile_load_error",o)),n(o)})})}fetchTokenUsingPasswordFlow(t,n,s=new oe){let o={username:t,password:n};return this.fetchTokenUsingGrant("password",o,s)}fetchTokenUsingGrant(t,n,s=new oe){this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let o=new Se({encoder:new Ht}).set("grant_type",t).set("scope",this.scope);if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(o=o.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(o=o.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))o=o.set(a,this.customQueryParams[a]);for(let a of Object.keys(n))o=o.set(a,n[a]);return s=s.set("Content-Type","application/x-www-form-urlencoded"),new Promise((a,l)=>{this.http.post(this.tokenEndpoint,o,{headers:s}).subscribe(c=>{this.debug("tokenResponse",c),this.storeAccessTokenResponse(c.access_token,c.refresh_token,c.expires_in||this.fallbackAccessTokenExpirationTimeInSec,c.scope,this.extractRecognizedCustomParameters(c)),this.oidc&&c.id_token&&this.processIdToken(c.id_token,c.access_token).then(m=>{this.storeIdToken(m),a(c)}),this.eventsSubject.next(new de("token_received")),a(c)},c=>{this.logger.error("Error performing ${grantType} flow",c),this.eventsSubject.next(new K("token_error",c)),l(c)})})}refreshToken(){return this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint"),new Promise((t,n)=>{let s=new Se({encoder:new Ht}).set("grant_type","refresh_token").set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token")),o=new oe().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let a=btoa(`${this.clientId}:${this.dummyClientSecret}`);o=o.set("Authorization","Basic "+a)}if(this.useHttpBasicAuth||(s=s.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(s=s.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let a of Object.getOwnPropertyNames(this.customQueryParams))s=s.set(a,this.customQueryParams[a]);this.http.post(this.tokenEndpoint,s,{headers:o}).pipe(ye(a=>this.oidc&&a.id_token?se(this.processIdToken(a.id_token,a.access_token,!0)).pipe(te(l=>this.storeIdToken(l)),k(()=>a)):S(a))).subscribe(a=>{this.debug("refresh tokenResponse",a),this.storeAccessTokenResponse(a.access_token,a.refresh_token,a.expires_in||this.fallbackAccessTokenExpirationTimeInSec,a.scope,this.extractRecognizedCustomParameters(a)),this.eventsSubject.next(new de("token_received")),this.eventsSubject.next(new de("token_refreshed")),t(a)},a=>{this.logger.error("Error refreshing token",a),this.eventsSubject.next(new K("token_refresh_error",a)),n(a)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=t=>{let n=this.processMessageEventMessage(t);this.checkOrigin&&t.origin!==location.origin&&console.error("wrong origin requested silent refresh!"),this.tryLogin({customHashFragment:n,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri||this.redirectUri}).catch(s=>this.debug("tryLogin during silent refresh failed",s))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(t={},n=!0){let s=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(t.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(typeof this.document>"u")throw new Error("silent refresh is not supported on this platform");let o=this.document.getElementById(this.silentRefreshIFrameName);o&&this.document.body.removeChild(o),this.silentRefreshSubject=s.sub;let a=this.document.createElement("iframe");a.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener();let l=this.silentRefreshRedirectUri||this.redirectUri;this.createLoginUrl(null,null,l,n,t).then(h=>{a.setAttribute("src",h),this.silentRefreshShowIFrame||(a.style.display="none"),this.document.body.appendChild(a)});let c=this.events.pipe(J(h=>h instanceof K),Re()),m=this.events.pipe(J(h=>h.type==="token_received"),Re()),f=S(new K("silent_refresh_timeout",null)).pipe(Sn(this.silentRefreshTimeout));return la([c,m,f]).pipe(k(h=>{if(h instanceof K)throw h.type==="silent_refresh_timeout"?this.eventsSubject.next(h):(h=new K("silent_refresh_error",h),this.eventsSubject.next(h)),h;return h.type==="token_received"&&(h=new de("silently_refreshed"),this.eventsSubject.next(h)),h})).toPromise()}initImplicitFlowInPopup(t){return this.initLoginFlowInPopup(t)}initLoginFlowInPopup(t){return t=t||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(n=>new Promise((s,o)=>{let l=null;t.windowRef?t.windowRef&&!t.windowRef.closed&&(l=t.windowRef,l.location.href=n):l=window.open(n,"ngx-oauth2-oidc-login",this.calculatePopupFeatures(t));let c,m=x=>{this.tryLogin({customHashFragment:x,preventClearHashAfterLogin:!0,customRedirectUri:this.silentRefreshRedirectUri}).then(()=>{h(),s(!0)},T=>{h(),o(T)})},f=()=>{(!l||l.closed)&&(h(),o(new K("popup_closed",{})))};l?c=window.setInterval(f,500):o(new K("popup_blocked",{}));let h=()=>{window.clearInterval(c),window.removeEventListener("storage",g),window.removeEventListener("message",v),l!==null&&l.close(),l=null},v=x=>{let T=this.processMessageEventMessage(x);T&&T!==null?(window.removeEventListener("storage",g),m(T)):console.log("false event firing")},g=x=>{x.key==="auth_hash"&&(window.removeEventListener("message",v),m(x.newValue))};window.addEventListener("message",v),window.addEventListener("storage",g)}))}calculatePopupFeatures(t){let n=t.height||470,s=t.width||500,o=window.screenLeft+(window.outerWidth-s)/2,a=window.screenTop+(window.outerHeight-n)/2;return`location=no,toolbar=no,width=${s},height=${n},top=${a},left=${o}`}processMessageEventMessage(t){let n="#";if(this.silentRefreshMessagePrefix&&(n+=this.silentRefreshMessagePrefix),!t||!t.data||typeof t.data!="string")return;let s=t.data;if(s.startsWith(n))return"#"+s.substr(n.length)}canPerformSessionCheck(){return this.sessionChecksEnabled?this.sessionCheckIFrameUrl?this.getSessionState()?!(typeof this.document>"u"):(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1):!1}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=t=>{let n=t.origin.toLowerCase(),s=this.issuer.toLowerCase();if(this.debug("sessionCheckEventListener"),!s.startsWith(n)){this.debug("sessionCheckEventListener","wrong origin",n,"expected",s,"event",t);return}switch(t.data){case"unchanged":this.ngZone.run(()=>{this.handleSessionUnchanged()});break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()});break}this.debug("got info from session check inframe",t)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged"),this.eventsSubject.next(new xe("session_unchanged"))}handleSessionChange(){this.eventsSubject.next(new xe("session_changed")),this.stopSessionCheckTimer(),!this.useSilentRefresh&&this.responseType==="code"?this.refreshToken().then(()=>{this.debug("token refresh after session change worked")}).catch(()=>{this.debug("token refresh did not work after session changed"),this.eventsSubject.next(new xe("session_terminated")),this.logOut(!0)}):this.silentRefreshRedirectUri?(this.silentRefresh().catch(()=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new xe("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(J(t=>t.type==="silently_refreshed"||t.type==="silent_refresh_timeout"||t.type==="silent_refresh_error"),Re()).subscribe(t=>{t.type!=="silently_refreshed"&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new xe("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new xe("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;let t=this.document.getElementById(this.sessionCheckIFrameName);t&&this.document.body.removeChild(t);let n=this.document.createElement("iframe");n.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener();let s=this.sessionCheckIFrameUrl;n.setAttribute("src",s),n.style.display="none",this.document.body.appendChild(n),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){let t=this.document.getElementById(this.sessionCheckIFrameName);t||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);let n=this.getSessionState();n||this.stopSessionCheckTimer();let s=this.clientId+" "+n;t.contentWindow.postMessage(s,this.issuer)}createLoginUrl(){return re(this,arguments,function*(t="",n="",s="",o=!1,a={}){let l=this,c;s?c=s:c=this.redirectUri;let m=yield this.createAndSaveNonce();if(t?t=m+this.config.nonceStateSeparator+encodeURIComponent(t):t=m,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.config.responseType?this.responseType=this.config.responseType:this.oidc&&this.requestAccessToken?this.responseType="id_token token":this.oidc&&!this.requestAccessToken?this.responseType="id_token":this.responseType="token";let f=l.loginUrl.indexOf("?")>-1?"&":"?",h=l.scope;this.oidc&&!h.match(/(^|\s)openid($|\s)/)&&(h="openid "+h);let v=l.loginUrl+f+"response_type="+encodeURIComponent(l.responseType)+"&client_id="+encodeURIComponent(l.clientId)+"&state="+encodeURIComponent(t)+"&redirect_uri="+encodeURIComponent(c)+"&scope="+encodeURIComponent(h);if(this.responseType.includes("code")&&!this.disablePKCE){let[g,x]=yield this.createChallangeVerifierPairForPKCE();this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("PKCE_verifier",x):this._storage.setItem("PKCE_verifier",x),v+="&code_challenge="+g,v+="&code_challenge_method=S256"}n&&(v+="&login_hint="+encodeURIComponent(n)),l.resource&&(v+="&resource="+encodeURIComponent(l.resource)),l.oidc&&(v+="&nonce="+encodeURIComponent(m)),o&&(v+="&prompt=none");for(let g of Object.keys(a))v+="&"+encodeURIComponent(g)+"="+encodeURIComponent(a[g]);if(this.customQueryParams)for(let g of Object.getOwnPropertyNames(this.customQueryParams))v+="&"+g+"="+encodeURIComponent(this.customQueryParams[g]);return v})}initImplicitFlowInternal(t="",n=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof n=="string"?o=n:typeof n=="object"&&(s=n),this.createLoginUrl(t,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initImplicitFlow",a),this.inImplicitFlow=!1})}initImplicitFlow(t="",n=""){this.loginUrl!==""?this.initImplicitFlowInternal(t,n):this.events.pipe(J(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initImplicitFlowInternal(t,n))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(t){let n=this;if(t.onTokenReceived){let s={idClaims:n.getIdentityClaims(),idToken:n.getIdToken(),accessToken:n.getAccessToken(),state:n.state};t.onTokenReceived(s)}}storeAccessTokenResponse(t,n,s,o,a){if(this._storage.setItem("access_token",t),o&&!Array.isArray(o)?this._storage.setItem("granted_scopes",JSON.stringify(o.split(" "))):o&&Array.isArray(o)&&this._storage.setItem("granted_scopes",JSON.stringify(o)),this._storage.setItem("access_token_stored_at",""+this.dateTimeService.now()),s){let l=s*1e3,m=this.dateTimeService.new().getTime()+l;this._storage.setItem("expires_at",""+m)}n&&this._storage.setItem("refresh_token",n),a&&a.forEach((l,c)=>{this._storage.setItem(c,l)})}tryLogin(t=null){return this.config.responseType==="code"?this.tryLoginCodeFlow(t).then(()=>!0):this.tryLoginImplicitFlow(t)}parseQueryString(t){return!t||t.length===0?{}:(t.charAt(0)==="?"&&(t=t.substr(1)),this.urlHelper.parseQueryString(t))}tryLoginCodeFlow(t=null){return re(this,null,function*(){t=t||{};let n=t.customHashFragment?t.customHashFragment.substring(1):window.location.search,s=this.getCodePartsFromUrl(n),o=s.code,a=s.state,l=s.session_state;if(!t.preventClearHashAfterLogin){let f=location.origin+location.pathname+location.search.replace(/code=[^&$]*/,"").replace(/scope=[^&$]*/,"").replace(/state=[^&$]*/,"").replace(/session_state=[^&$]*/,"").replace(/^\?&/,"?").replace(/&$/,"").replace(/^\?$/,"").replace(/&+/g,"&").replace(/\?&/,"?").replace(/\?$/,"")+location.hash;history.replaceState(null,window.name,f)}let[c,m]=this.parseState(a);if(this.state=m,s.error){this.debug("error trying to login"),this.handleLoginError(t,s);let f=new K("code_error",{},s);return this.eventsSubject.next(f),Promise.reject(f)}if(!t.disableNonceCheck){if(!c)return this.saveRequestedRoute(),Promise.resolve();if(!t.disableOAuth2StateCheck&&!this.validateNonce(c)){let h=new K("invalid_nonce_in_state",null);return this.eventsSubject.next(h),Promise.reject(h)}}return this.storeSessionState(l),o&&(yield this.getTokenFromCode(o,t),this.restoreRequestedRoute()),Promise.resolve()})}saveRequestedRoute(){this.config.preserveRequestedRoute&&this._storage.setItem("requested_route",window.location.pathname+window.location.search)}restoreRequestedRoute(){let t=this._storage.getItem("requested_route");t&&history.replaceState(null,"",window.location.origin+t)}getCodePartsFromUrl(t){return!t||t.length===0?this.urlHelper.getHashFragmentParams():(t.charAt(0)==="?"&&(t=t.substr(1)),this.urlHelper.parseQueryString(t))}getTokenFromCode(t,n){let s=new Se({encoder:new Ht}).set("grant_type","authorization_code").set("code",t).set("redirect_uri",n.customRedirectUri||this.redirectUri);if(!this.disablePKCE){let o;this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?o=localStorage.getItem("PKCE_verifier"):o=this._storage.getItem("PKCE_verifier"),o?s=s.set("code_verifier",o):console.warn("No PKCE verifier found in oauth storage!")}return this.fetchAndProcessToken(s,n)}fetchAndProcessToken(t,n){n=n||{},this.assertUrlNotNullAndCorrectProtocol(this.tokenEndpoint,"tokenEndpoint");let s=new oe().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let o=btoa(`${this.clientId}:${this.dummyClientSecret}`);s=s.set("Authorization","Basic "+o)}return this.useHttpBasicAuth||(t=t.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(t=t.set("client_secret",this.dummyClientSecret)),new Promise((o,a)=>{if(this.customQueryParams)for(let l of Object.getOwnPropertyNames(this.customQueryParams))t=t.set(l,this.customQueryParams[l]);this.http.post(this.tokenEndpoint,t,{headers:s}).subscribe(l=>{this.debug("refresh tokenResponse",l),this.storeAccessTokenResponse(l.access_token,l.refresh_token,l.expires_in||this.fallbackAccessTokenExpirationTimeInSec,l.scope,this.extractRecognizedCustomParameters(l)),this.oidc&&l.id_token?this.processIdToken(l.id_token,l.access_token,n.disableNonceCheck).then(c=>{this.storeIdToken(c),this.eventsSubject.next(new de("token_received")),this.eventsSubject.next(new de("token_refreshed")),o(l)}).catch(c=>{this.eventsSubject.next(new K("token_validation_error",c)),console.error("Error validating tokens"),console.error(c),a(c)}):(this.eventsSubject.next(new de("token_received")),this.eventsSubject.next(new de("token_refreshed")),o(l))},l=>{console.error("Error getting token",l),this.eventsSubject.next(new K("token_refresh_error",l)),a(l)})})}tryLoginImplicitFlow(t=null){t=t||{};let n;t.customHashFragment?n=this.urlHelper.getHashFragmentParams(t.customHashFragment):n=this.urlHelper.getHashFragmentParams(),this.debug("parsed url",n);let s=n.state,[o,a]=this.parseState(s);if(this.state=a,n.error){this.debug("error trying to login"),this.handleLoginError(t,n);let h=new K("token_error",{},n);return this.eventsSubject.next(h),Promise.reject(h)}let l=n.access_token,c=n.id_token,m=n.session_state,f=n.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!l||this.requestAccessToken&&!t.disableOAuth2StateCheck&&!s||this.oidc&&!c)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!m&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!t.disableNonceCheck&&!this.validateNonce(o)){let v=new K("invalid_nonce_in_state",null);return this.eventsSubject.next(v),Promise.reject(v)}return this.requestAccessToken&&this.storeAccessTokenResponse(l,null,n.expires_in||this.fallbackAccessTokenExpirationTimeInSec,f),this.oidc?this.processIdToken(c,l,t.disableNonceCheck).then(h=>t.validationHandler?t.validationHandler({accessToken:l,idClaims:h.idTokenClaims,idToken:h.idToken,state:s}).then(()=>h):h).then(h=>(this.storeIdToken(h),this.storeSessionState(m),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash(),this.eventsSubject.next(new de("token_received")),this.callOnTokenReceivedIfExists(t),this.inImplicitFlow=!1,!0)).catch(h=>(this.eventsSubject.next(new K("token_validation_error",h)),this.logger.error("Error validating tokens"),this.logger.error(h),Promise.reject(h))):(this.eventsSubject.next(new de("token_received")),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash(),this.callOnTokenReceivedIfExists(t),Promise.resolve(!0))}parseState(t){let n=t,s="";if(t){let o=t.indexOf(this.config.nonceStateSeparator);o>-1&&(n=t.substr(0,o),s=t.substr(o+this.config.nonceStateSeparator.length))}return[n,s]}validateNonce(t){let n;return this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?n=localStorage.getItem("nonce"):n=this._storage.getItem("nonce"),n!==t?(console.error("Validating access_token failed, wrong state/nonce.",n,t),!1):!0}storeIdToken(t){this._storage.setItem("id_token",t.idToken),this._storage.setItem("id_token_claims_obj",t.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+t.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+this.dateTimeService.now())}storeSessionState(t){this._storage.setItem("session_state",t)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(t,n){t.onLoginError&&t.onLoginError(n),this.clearHashAfterLogin&&!t.preventClearHashAfterLogin&&this.clearLocationHash()}getClockSkewInMsec(t=6e5){return!this.clockSkewInSec&&this.clockSkewInSec!==0?t:this.clockSkewInSec*1e3}processIdToken(t,n,s=!1){let o=t.split("."),a=this.padBase64(o[0]),l=id(a),c=JSON.parse(l),m=this.padBase64(o[1]),f=id(m),h=JSON.parse(f),v;if(this.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?v=localStorage.getItem("nonce"):v=this._storage.getItem("nonce"),Array.isArray(h.aud)){if(h.aud.every(D=>D!==this.clientId)){let D="Wrong audience: "+h.aud.join(",");return this.logger.warn(D),Promise.reject(D)}}else if(h.aud!==this.clientId){let D="Wrong audience: "+h.aud;return this.logger.warn(D),Promise.reject(D)}if(!h.sub){let D="No sub claim in id_token";return this.logger.warn(D),Promise.reject(D)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==h.sub){let D=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${h.sub}`;return this.logger.warn(D),Promise.reject(D)}if(!h.iat){let D="No iat claim in id_token";return this.logger.warn(D),Promise.reject(D)}if(!this.skipIssuerCheck&&h.iss!==this.issuer){let D="Wrong issuer: "+h.iss;return this.logger.warn(D),Promise.reject(D)}if(!s&&h.nonce!==v){let D="Wrong nonce: "+h.nonce;return this.logger.warn(D),Promise.reject(D)}if(Object.prototype.hasOwnProperty.call(this,"responseType")&&(this.responseType==="code"||this.responseType==="id_token")&&(this.disableAtHashCheck=!0),!this.disableAtHashCheck&&this.requestAccessToken&&!h.at_hash){let D="An at_hash is needed!";return this.logger.warn(D),Promise.reject(D)}let g=this.dateTimeService.now(),x=h.iat*1e3,T=h.exp*1e3,M=this.getClockSkewInMsec();if(x-M>=g||T+M-this.decreaseExpirationBySec<=g){let D="Token has expired";return console.error(D),console.error({now:g,issuedAtMSec:x,expiresAtMSec:T}),Promise.reject(D)}let Y={accessToken:n,idToken:t,jwks:this.jwks,idTokenClaims:h,idTokenHeader:c,loadKeys:()=>this.loadJwks()};return this.disableAtHashCheck?this.checkSignature(Y).then(()=>({idToken:t,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:c,idTokenHeaderJson:l,idTokenExpiresAt:T})):this.checkAtHash(Y).then(D=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!D){let z="Wrong at_hash";return this.logger.warn(z),Promise.reject(z)}return this.checkSignature(Y).then(()=>{let z=!this.disableAtHashCheck,He={idToken:t,idTokenClaims:h,idTokenClaimsJson:f,idTokenHeader:c,idTokenHeaderJson:l,idTokenExpiresAt:T};return z?this.checkAtHash(Y).then(Ze=>{if(this.requestAccessToken&&!Ze){let lt="Wrong at_hash";return this.logger.warn(lt),Promise.reject(lt)}else return He}):He})})}getIdentityClaims(){let t=this._storage.getItem("id_token_claims_obj");return t?JSON.parse(t):null}getGrantedScopes(){let t=this._storage.getItem("granted_scopes");return t?JSON.parse(t):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(t){for(;t.length%4!==0;)t+="=";return t}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){let t=this._storage.getItem("expires_at"),n=this.dateTimeService.new();return!(t&&parseInt(t,10)-this.decreaseExpirationBySec<n.getTime()-this.getClockSkewInMsec())}return!1}hasValidIdToken(){if(this.getIdToken()){let t=this._storage.getItem("id_token_expires_at"),n=this.dateTimeService.new();return!(t&&parseInt(t,10)-this.decreaseExpirationBySec<n.getTime()-this.getClockSkewInMsec())}return!1}getCustomTokenResponseProperty(t){return this._storage&&this.config.customTokenParameters&&this.config.customTokenParameters.indexOf(t)>=0&&this._storage.getItem(t)!==null?JSON.parse(this._storage.getItem(t)):null}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(t={},n=""){let s=!1;typeof t=="boolean"&&(s=t,t={});let o=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this.saveNoncesInLocalStorage?(localStorage.removeItem("nonce"),localStorage.removeItem("PKCE_verifier")):(this._storage.removeItem("nonce"),this._storage.removeItem("PKCE_verifier")),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.config.customTokenParameters&&this.config.customTokenParameters.forEach(l=>this._storage.removeItem(l)),this.silentRefreshSubject=null,this.eventsSubject.next(new xe("logout")),!this.logoutUrl||s)return;let a;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");if(this.logoutUrl.indexOf("{{")>-1)a=this.logoutUrl.replace(/\{\{id_token\}\}/,encodeURIComponent(o)).replace(/\{\{client_id\}\}/,encodeURIComponent(this.clientId));else{let l=new Se({encoder:new Ht});o&&(l=l.set("id_token_hint",o));let c=this.postLogoutRedirectUri||this.redirectUriAsPostLogoutRedirectUriFallback&&this.redirectUri||"";c&&(l=l.set("post_logout_redirect_uri",c),n&&(l=l.set("state",n)));for(let m in t)l=l.set(m,t[m]);a=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+l.toString()}this.config.openUri(a)}createAndSaveNonce(){let t=this;return this.createNonce().then(function(n){return t.saveNoncesInLocalStorage&&typeof window.localStorage<"u"?localStorage.setItem("nonce",n):t._storage.setItem("nonce",n),n})}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.removeSilentRefreshEventListener();let t=this.document.getElementById(this.silentRefreshIFrameName);t&&t.remove(),this.stopSessionCheckTimer(),this.removeSessionCheckEventListener();let n=this.document.getElementById(this.sessionCheckIFrameName);n&&n.remove()}createNonce(){return new Promise(t=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=45,o="",a=typeof self>"u"?null:self.crypto||self.msCrypto;if(a){let l=new Uint8Array(s);a.getRandomValues(l),l.map||(l.map=Array.prototype.map),l=l.map(c=>n.charCodeAt(c%n.length)),o=String.fromCharCode.apply(null,l)}else for(;0<s--;)o+=n[Math.random()*n.length|0];t(nd(o))})}checkAtHash(t){return re(this,null,function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(t):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)})}checkSignature(t){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(t):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(t="",n={}){return this.responseType==="code"?this.initCodeFlow(t,n):this.initImplicitFlow(t,n)}initCodeFlow(t="",n={}){this.loginUrl!==""?this.initCodeFlowInternal(t,n):this.events.pipe(J(s=>s.type==="discovery_document_loaded")).subscribe(()=>this.initCodeFlowInternal(t,n))}initCodeFlowInternal(t="",n={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl  must use HTTPS (with TLS), or config value for property 'requireHttps' must be set to 'false' and allow HTTP (without TLS).");let s={},o=null;typeof n=="string"?o=n:typeof n=="object"&&(s=n),this.createLoginUrl(t,o,null,!1,s).then(this.config.openUri).catch(a=>{console.error("Error in initAuthorizationCodeFlow"),console.error(a)})}createChallangeVerifierPairForPKCE(){return re(this,null,function*(){if(!this.crypto)throw new Error("PKCE support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");let t=yield this.createNonce(),n=yield this.crypto.calcHash(t,"sha-256");return[nd(n),t]})}extractRecognizedCustomParameters(t){let n=new Map;return this.config.customTokenParameters&&this.config.customTokenParameters.forEach(s=>{t[s]&&n.set(s,JSON.stringify(t[s]))}),n}revokeTokenAndLogout(t={},n=!1){let s=this.revocationEndpoint,o=this.getAccessToken(),a=this.getRefreshToken();if(!o)return Promise.resolve();let l=new Se({encoder:new Ht}),c=new oe().set("Content-Type","application/x-www-form-urlencoded");if(this.useHttpBasicAuth){let m=btoa(`${this.clientId}:${this.dummyClientSecret}`);c=c.set("Authorization","Basic "+m)}if(this.useHttpBasicAuth||(l=l.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(l=l.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(let m of Object.getOwnPropertyNames(this.customQueryParams))l=l.set(m,this.customQueryParams[m]);return new Promise((m,f)=>{let h,v;if(o){let g=l.set("token",o).set("token_type_hint","access_token");h=this.http.post(s,g,{headers:c})}else h=S(null);if(a){let g=l.set("token",a).set("token_type_hint","refresh_token");v=this.http.post(s,g,{headers:c})}else v=S(null);n&&(h=h.pipe(Me(g=>g.status===0?S(null):Ye(g))),v=v.pipe(Me(g=>g.status===0?S(null):Ye(g)))),ut([h,v]).subscribe(g=>{this.logOut(t),m(g),this.logger.info("Token successfully revoked")},g=>{this.logger.error("Error revoking token",g),this.eventsSubject.next(new K("token_revoke_error",g)),f(g)})})}clearLocationHash(){location.hash!=""&&(location.hash="")}};e.\u0275fac=function(n){return new(n||e)(w(X),w(Rt),w(Gr,8),w(qr,8),w(fi,8),w(rd),w(Wr),w(Kr,8),w(ee),w(gn))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),Qr=class{},$o=class{handleError(e){return Ye(e)}},xm=(()=>{let e=class e{constructor(t,n,s){this.oAuthService=t,this.errorHandler=n,this.moduleConfig=s}checkUrl(t){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(t):this.moduleConfig.resourceServer.allowedUrls?!!this.moduleConfig.resourceServer.allowedUrls.find(n=>t.toLowerCase().startsWith(n.toLowerCase())):!0}intercept(t,n){let s=t.url.toLowerCase();return!this.moduleConfig||!this.moduleConfig.resourceServer||!this.checkUrl(s)?n.handle(t):this.moduleConfig.resourceServer.sendAccessToken?ca(S(this.oAuthService.getAccessToken()).pipe(J(a=>!!a)),this.oAuthService.events.pipe(J(a=>a.type==="token_received"),oa(this.oAuthService.waitForTokenInMsec||0),Me(()=>S(null)),k(()=>this.oAuthService.getAccessToken()))).pipe(ze(1),ce(a=>{if(a){let l="Bearer "+a,c=t.headers.set("Authorization",l);t=t.clone({headers:c})}return n.handle(t).pipe(Me(l=>this.errorHandler.handleError(l)))})):n.handle(t).pipe(Me(a=>this.errorHandler.handleError(a)))}};e.\u0275fac=function(n){return new(n||e)(w(Zr),w(Qr),w(zr,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})();function Mm(){return console}function Rm(){return typeof sessionStorage<"u"?sessionStorage:new Im}function Om(i=null,e=$r){return Je([Zr,rd,{provide:Wr,useFactory:Mm},{provide:Gr,useFactory:Rm},{provide:qr,useClass:e},{provide:Kr,useClass:Am},{provide:Qr,useClass:$o},{provide:zr,useValue:i},{provide:Ri,useClass:xm,multi:!0},{provide:gn,useClass:Cm}])}var od=(()=>{let e=class e{static forRoot(t=null,n=$r){return{ngModule:e,providers:[Om(t,n)]}}};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Q({imports:[jn]});let i=e;return i})();var vv=new R("AUTH_CONFIG");var Yr=class i{constructor(e,r,t,n){this.oauthService=e;this.router=r;this.location=t;this._sessionService=n;this.initOAuthServiceForCodeFlow();let s=sessionStorage.getItem("session.userInSession");s&&(this._userInSession=JSON.parse(s))}_userInSession=new ct;get userInSession(){return this._userInSession}set userInSession(e){this._userInSession=e,sessionStorage.setItem("session.userInSession",JSON.stringify(this._userInSession))}initOAuthServiceForCodeFlow(){let e={issuer:"https://www.d-defrance.fr/keycloak/realms/sandboxrealm",silentRefreshRedirectUri:window.location.origin+this.location.prepareExternalUrl("/silent-refresh.html"),useSilentRefresh:!0,postLogoutRedirectUri:window.location.origin+this.location.prepareExternalUrl("/ngr-oauth2-login-out"),clientId:"anywebappclient",responseType:"code",scope:"openid profile resource.read resource.write resource.delete",showDebugInformation:!0};this.oauthService.configure(e),this.oauthService.oidc=!0,this.oauthService.setStorage(sessionStorage),this.oauthService.loadDiscoveryDocumentAndTryLogin(),this.oauthService.events.subscribe(r=>{r instanceof de&&(console.log("OAuthSuccessEvent: "+r.type),this.manageSuccessEvent(r)),r instanceof xe&&console.log("OAuthInfoEvent: "+r.type),r instanceof K?console.log("OAuthErrorEvent: "+r.type):console.warn(r.type)})}manageSuccessEvent(e){if(e.type=="token_received"){console.log("***** token_received ****"),this._userInSession.authenticated=!0;let t=this.oauthService.getGrantedScopes();this._userInSession.grantedScopes=t,console.log("grantedScopes="+JSON.stringify(this._userInSession.grantedScopes));var r=this.oauthService.getIdentityClaims();console.log("claims="+JSON.stringify(r)),r&&(this._userInSession.username=r.preferred_username+"("+r.name+")"),this._sessionService.userInSession$=this._userInSession,this.oauthService.silentRefreshRedirectUri!=null&&this.router.navigateByUrl("/ngr-welcome")}}delegateOidcLogin(){this.oauthService.initLoginFlowInPopup()}oidcLogout(){this.oauthService.logOut(),document.cookie="AUTH_SESSION_ID=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="AUTH_SESSION_ID_LEGACY=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}get accessTokenString(){return this.oauthService.getAccessToken()}static \u0275fac=function(r){return new(r||i)(w(Zr),w(Ve),w(xt),w(Qe))};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};var Jr=class i{constructor(e){this.oauth2SessionService=e}login(){this.oauth2SessionService.delegateOidcLogin()}logout(){this.oauth2SessionService.oidcLogout()}ngOnInit(){}static \u0275fac=function(r){return new(r||i)(C(Yr))};static \u0275cmp=N({type:i,selectors:[["app-oauth2-log-in-out"]],decls:31,vars:0,consts:[["href","https://www.d-defrance.fr/keycloak/realms/sandboxrealm/.well-known/openid-configuration","target","_new"],[1,"redClass"],[1,"btn","btn-primary",3,"click"],["routerLink","/ngr-login"]],template:function(r,t){r&1&&(p(0,"a",0),u(1,"openid-configuration"),d(),u(2," \xA0"),p(3,"span",1),u(4,"(delete old cookies if necessary (login error) !!!)"),d(),E(5,"br"),u(6,`
LogInOut COMPONENT (login with OAuth2/OIDC keycloak server)`),E(7,"br"),p(8,"p")(9,"button",2),A("click",function(){return t.login()}),u(10,"Login"),d(),u(11," \xA0\xA0 "),p(12,"button",2),A("click",function(){return t.logout()}),u(13,"Logout"),d(),u(14," \xA0"),p(15,"span",1),u(16,"(if logout error, go back and try login)"),d()(),p(17,"div")(18,"p"),u(19,"exemples of good Username/Password:"),d(),p(20,"ul")(21,"li"),u(22,"mgr1/pwd1 (MANAGE_RW : resource.read , resource.write )"),d(),p(23,"li"),u(24,"admin1/pwd1 (ADMIN_CRUD : resource.read , resource.write , resource.delete )"),d(),p(25,"li"),u(26,"user1/pwd1 (USER : resource.read )"),d()()(),E(27,"hr"),p(28,"a",3),u(29,"direct/standalone login (without oauth2/oidc server)"),d(),u(30," \xA0 "))},dependencies:[pi],styles:[".redClass[_ngcontent-%COMP%]{color:red}"]})};var bn=class{constructor(e="?",r="?",t=1){this.code=e;this.name=r;this.change=t}};function Fm(i,e){if(i&1){let r=Ne();p(0,"tr",21),A("click",function(){let n=V(r).$implicit,s=ke();return U(s.onSelectDevise(n))}),p(1,"td"),u(2),d(),p(3,"td"),u(4),d(),p(5,"td"),u(6),d()()}if(i&2){let r=e.$implicit,t=ke();Ee("selected",r==t.selectedDevise),b(2),B(r.code),b(2),B(r.name),b(2),B(r.change)}}var Xr=class i{constructor(e){this.deviseService=e}platform=_(pe);cloneDevise(e){return JSON.parse(JSON.stringify(e))}identifyDevise(e,r){return r.code}tabDevises=[];selectedDevise;deviseTemp=new bn;message="";mode="newOne";onNew(){this.mode="newOne",this.selectedDevise=void 0,this.deviseTemp=new bn}onAdd(){return re(this,null,function*(){try{let e=yield $e(this.deviseService.postDevise$(this.deviseTemp));this.message="devise ajout\xE9e",this.addClientSide(e)}catch(e){this.message=fn(e,"echec post")}})}addClientSide(e){this.tabDevises.push(e),this.onNew()}onDelete(){return re(this,null,function*(){if(this.selectedDevise)try{yield $e(this.deviseService.deleteDevise$(this.selectedDevise.code)),this.message="devise bien supprim\xE9e",this.deleteClientSide()}catch(e){this.message=fn(e,"echec suppression")}})}deleteClientSide(){if(this.selectedDevise){let e=-1;this.tabDevises.forEach((r,t)=>{r==this.selectedDevise&&(e=t)}),e>=0&&this.tabDevises.splice(e,1)}this.onNew()}onUpdateV1(){return re(this,null,function*(){try{let e=yield $e(this.deviseService.putDevise$(this.deviseTemp));this.message="devise bien mise \xE0 jour",this.updateClientSide(e)}catch(e){this.message=fn(e,"echec update (put)")}})}onUpdate(){this.deviseService.putDevise$(this.deviseTemp).subscribe({next:e=>{this.message="devise bien mise \xE0 jour",this.updateClientSide(e)},error:e=>{Bt(e,"echec update (put)")}})}updateClientSide(e){this.selectedDevise!=null&&(this.selectedDevise.code=e.code,this.selectedDevise.name=e.name,this.selectedDevise.change=e.change)}onSelectDevise(e){this.selectedDevise=e,this.mode="existingOne",this.deviseTemp=this.cloneDevise(this.selectedDevise),this.message="devise selectionn\xE9e = "+JSON.stringify(this.selectedDevise)}ngOnInit(){it(this.platform)&&this.fetchDevises()}fetchDevises(){return re(this,null,function*(){try{this.tabDevises=yield $e(this.deviseService.getAllDevises$().pipe(k(e=>e.sort((r,t)=>r.change-t.change))))}catch(e){this.message=fn(e,"echec rechercherDevises (get)")}})}static \u0275fac=function(r){return new(r||i)(C(mi))};static \u0275cmp=N({type:i,selectors:[["app-devise"]],decls:56,vars:16,consts:[["formDevise","ngForm"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-sm-5"],[1,"card"],[1,"card-header","text-white","bg-primary"],[1,"card-body"],[1,"table","table-bordered"],[3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-sm-7"],[1,"row","form-group"],[1,"col-sm-3","text-sm-end","form-label"],[1,"col-sm-9"],["name","code","required","","minlength","3",1,"form-control","mb-1",3,"ngModelChange","ngModel"],["name","nom","required","",1,"form-control","mb-1",3,"ngModelChange","ngModel"],["name","change","type","number","required","",1,"form-control","mb-1",3,"ngModelChange","ngModel"],[1,"col-sm-9","offset-sm-3"],[1,"btn-primary",3,"click","disabled"],[1,"bi-save"],[1,"btn-primary",3,"click"],[1,"btn-danger",3,"click"],[3,"click"]],template:function(r,t){if(r&1){let n=Ne();p(0,"input",1),q("ngModelChange",function(o){return V(n),G(t.deviseService.withoutSecurity,o)||(t.deviseService.withoutSecurity=o),U(o)}),d(),u(1,` withoutSecurity (development only)
`),p(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),u(6,"Liste des devises (selon serveur)"),d(),p(7,"div",6)(8,"table",7)(9,"tr")(10,"th"),u(11,"code"),d(),p(12,"th"),u(13,"name"),d(),p(14,"th"),u(15,"change"),d()(),ie(16,Fm,7,5,"tr",8),d(),u(17," message: "),p(18,"b"),u(19),d()()()(),p(20,"div",9)(21,"div",4)(22,"div",5),u(23),d(),p(24,"div",6)(25,"form",null,0)(27,"div",10)(28,"label",11),u(29,"code:"),d(),p(30,"div",12)(31,"input",13),q("ngModelChange",function(o){return V(n),G(t.deviseTemp.code,o)||(t.deviseTemp.code=o),U(o)}),d()()(),p(32,"div",10)(33,"label",11),u(34,"name:"),d(),p(35,"div",12)(36,"input",14),q("ngModelChange",function(o){return V(n),G(t.deviseTemp.name,o)||(t.deviseTemp.name=o),U(o)}),d()()(),p(37,"div",10)(38,"label",11),u(39,"change:"),d(),p(40,"div",12)(41,"input",15),q("ngModelChange",function(o){return V(n),G(t.deviseTemp.change,o)||(t.deviseTemp.change=o),U(o)}),d()()(),p(42,"div",10)(43,"div",16)(44,"button",17),A("click",function(){return V(n),U(t.onUpdate())}),u(45," update "),E(46,"i",18),d(),u(47," \xA0 "),p(48,"button",19),A("click",function(){return V(n),U(t.onNew())}),u(49," new "),d(),u(50," \xA0 "),p(51,"button",17),A("click",function(){return V(n),U(t.onAdd())}),u(52," add "),d(),u(53," \xA0 "),p(54,"button",20),A("click",function(){return V(n),U(t.onDelete())}),u(55," delete "),d()()()()()()()()}if(r&2){let n=Et(26);W("ngModel",t.deviseService.withoutSecurity),b(16),F("ngForOf",t.tabDevises)("ngForTrackBy",t.identifyDevise),b(3),B(t.message),b(4),ne("devise selectionn\xE9e (",t.mode,")"),b(8),W("ngModel",t.deviseTemp.code),b(5),W("ngModel",t.deviseTemp.name),b(5),W("ngModel",t.deviseTemp.change),b(3),me("visibility",t.mode=="existingOne"?"visible":"hidden"),F("disabled",!n.form.valid),b(7),me("visibility",t.mode=="newOne"?"visible":"hidden"),F("disabled",!n.form.valid),b(3),me("visibility",t.mode=="existingOne"?"visible":"hidden")}},dependencies:[Fe,Xt,ge,rt,Ws,ve,Jt,Ft,Gi,Ce,Wi],styles:[".selected[_ngcontent-%COMP%]{color:#00f;font-weight:700}"]})};var es=class i{constructor(e){this._formBuilder=e;this.resaForm=this._formBuilder.group({firstName:["prenom",Le.required],lastName:["Nom",[Le.required,Le.pattern("[A-Z].+")]],telephone:["0605040302",[Le.required,Le.minLength(10)]],email:["prenom.Nom@xyz.com",[Le.required,Le.email]],dateTime:[new Date().toISOString().substring(0,16),[Le.required,Le.pattern("[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}.*")]]})}resaForm;message="";onReservation(){this.message="r\xE9sa effectu\xE9e="+JSON.stringify(this.resaForm.value)}static \u0275fac=function(r){return new(r||i)(C(sl))};static \u0275cmp=N({type:i,selectors:[["app-reservation"]],decls:31,vars:3,consts:[["novalidate","",3,"formGroup"],[1,"form-group","row"],[1,"col-sm-3"],[1,"col-sm-9"],["type","text","formControlName","firstName",1,"form-control"],["type","text","formControlName","lastName",1,"form-control"],["type","telephone","formControlName","telephone",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","text","formControlName","dateTime",1,"form-control"],["type","button","value","reservation",3,"click","disabled"]],template:function(r,t){r&1&&(p(0,"h3"),u(1,"reservation"),d(),p(2,"form",0)(3,"div",1)(4,"label",2),u(5,"firstName:"),d(),p(6,"div",3),E(7,"input",4),d()(),p(8,"div",1)(9,"label",2),u(10,"lastName:"),d(),p(11,"div",3),E(12,"input",5),d()(),p(13,"div",1)(14,"label",2),u(15,"telephone:"),d(),p(16,"div",3),E(17,"input",6),d()(),p(18,"div",1)(19,"label",2),u(20,"email:"),d(),p(21,"div",3),E(22,"input",7),d()(),p(23,"div",1)(24,"label",2),u(25,"dateTime:"),d(),p(26,"div",3),E(27,"input",8),d()(),p(28,"input",9),A("click",function(){return t.onReservation()}),d(),E(29,"hr"),u(30),d()),r&2&&(b(2),F("formGroup",t.resaForm),b(26),F("disabled",!t.resaForm.valid),b(2),ne(" ",t.message,`
`))},dependencies:[Xt,ge,ve,Jt,Ys,Js]})};var Lm=[{path:"ngr-welcome",component:jr},{path:"",redirectTo:"/ngr-welcome",pathMatch:"full"},{path:"ngr-basic",component:Er,children:[{path:"tva",component:xr},{path:"calculatrice/:mode",component:kr},{path:"",redirectTo:"tva",pathMatch:"prefix"}]},{path:"ngr-login",component:Hr},{path:"ngr-oauth2-login-out",component:Jr},{path:"ngr-devise",component:Xr},{path:"ngr-conversion",component:Mr,canActivate:[td]},{path:"ngr-reservation",component:es},{path:"ngr-demo",component:Fr}],ts=class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=Z({type:i});static \u0275inj=Q({imports:[Vo.forRoot(Lm),Vo]})};var gi=class i{platform=_(pe);_couleurFondPreferee;get couleurFondPreferee(){return this._couleurFondPreferee}set couleurFondPreferee(e){this._couleurFondPreferee=e,it(this.platform)&&(console.warn("browser platform (csr)"),localStorage&&localStorage.setItem("preferences.couleurFond",e))}constructor(){let e="lightgrey";it(this.platform)&&localStorage&&(e=localStorage.getItem("preferences.couleurFond")),this._couleurFondPreferee=e||"lightgrey"}static \u0275fac=function(r){return new(r||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})};function jm(i,e){i&1&&(p(0,"span",10),E(1,"i",11),d())}var is=class i{constructor(e,r){this.preferencesService=e;this._sessionService=r;console.log("dans constructeur de HeaderComponent , titre="+this.titre),r.userInSession$.subscribe(t=>{this.isConnected=t.authenticated})}isConnected=!1;titre="titreParDefaut";ngOnChanges(e){console.log("ngOnChanges avec changes="+JSON.stringify(e))}ngOnInit(){console.log("dans ngOnInit() de HeaderComponent , titre="+this.titre)}static \u0275fac=function(r){return new(r||i)(C(gi),C(Qe))};static \u0275cmp=N({type:i,selectors:[["app-header"]],inputs:{titre:"titre"},features:[Pe],decls:28,vars:4,consts:[[1,"entete"],["class","badge bg-primary",4,"ngIf"],["routerLink","/ngr-welcome"],["routerLink","/ngr-basic"],["routerLink","/ngr-reservation"],["routerLink","/ngr-login"],["routerLink","/ngr-oauth2-login-out"],["routerLink","/ngr-conversion"],["routerLink","/ngr-devise"],["routerLink","/ngr-demo"],[1,"badge","bg-primary"],[1,"bi-person"]],template:function(r,t){r&1&&(p(0,"p",0),u(1),ie(2,jm,2,0,"span",1),u(3," \xA0 "),p(4,"a",2),u(5,"welcome"),d(),u(6," \xA0 "),p(7,"a",3),u(8,"basic"),d(),u(9," \xA0 "),p(10,"a",4),u(11,"reservation"),d(),u(12," \xA0 "),p(13,"a",5),u(14,"login (standalone)"),d(),u(15," \xA0 "),p(16,"a",6),u(17,"OAuth2 logInOut"),d(),u(18," \xA0 "),p(19,"a",7),u(20,"conversion"),d(),u(21," \xA0 "),p(22,"a",8),u(23,"devise(crud)"),d(),u(24," \xA0 "),p(25,"a",9),u(26,"demo"),d(),u(27,` \xA0
`),d()),r&2&&(me("background-color",t.preferencesService.couleurFondPreferee),b(),ne(" ",t.titre," \xA0 "),b(),F("ngIf",t.isConnected))},dependencies:[qt,pi],styles:[".entete[_ngcontent-%COMP%]{background-color:#d3d3d3}"]})};function Um(i,e){if(i&1&&(p(0,"option",3),u(1),d()),i&2){let r=e.$implicit;F("ngValue",r),b(),B(r)}}var ns=class i{constructor(e,r){this.preferencesService=e;this._sessionService=r;r.userInSession$.subscribe(t=>{t.authenticated?this.username=t.username:this.username="?"})}today=new Date;username="?";listeCouleurs=["lightyellow","white","lightgrey","lightgreen","lightpink","lightblue"];static \u0275fac=function(r){return new(r||i)(C(gi),C(Qe))};static \u0275cmp=N({type:i,selectors:[["app-footer"]],decls:6,vars:7,consts:[[1,"piedPage"],[3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(r,t){r&1&&(p(0,"p",0),u(1),kt(2,"date"),p(3,"select",1),q("ngModelChange",function(s){return G(t.preferencesService.couleurFondPreferee,s)||(t.preferencesService.couleurFondPreferee=s),s}),ie(4,Um,2,2,"option",2),d(),u(5),d()),r&2&&(b(),ne("footer , date=",Ti(2,4,t.today,"dd/MM/yyyy")," \xA0 couleurFondPreferee: "),b(2),W("ngModel",t.preferencesService.couleurFondPreferee),b(),F("ngForOf",t.listeCouleurs),b(),ne(" \xA0 username=",t.username,`
`))},dependencies:[Fe,ei,ti,vt,ve,Ce,Va],styles:[".piedPage[_ngcontent-%COMP%]{background-color:#dbf38d}"]})};var rs=class i{title="my-app";static \u0275fac=function(r){return new(r||i)};static \u0275cmp=N({type:i,selectors:[["app-root"]],decls:4,vars:1,consts:[[1,"container-fluid"],[3,"titre"]],template:function(r,t){r&1&&(p(0,"div",0),E(1,"app-header",1)(2,"router-outlet")(3,"app-footer"),d()),r&2&&(b(),F("titre",t.title))},dependencies:[un,is,ns]})};var Hm="@",$m=(()=>{let e=class e{constructor(t,n,s,o,a){this.doc=t,this.delegate=n,this.zone=s,this.animationType=o,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=_(Ca,{optional:!0}),this.loadingSchedulerFn=_(zm,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-MUK3GTPE.js").then(s=>s),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(s=>{throw new H(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:o})=>{this._engine=s(this.animationType,this.doc);let a=new o(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(t,n){let s=this.delegate.createRenderer(t,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new zo(s);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(t,n);o.use(l),this.scheduler?.notify(10)}).catch(a=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(n){kn()},e.\u0275prov=I({token:e,factory:e.\u0275fac});let i=e;return i})(),zo=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let r of this.replay)r(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,r){this.delegate.appendChild(e,r)}insertBefore(e,r,t,n){this.delegate.insertBefore(e,r,t,n)}removeChild(e,r,t){this.delegate.removeChild(e,r,t)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,t,n){this.delegate.setAttribute(e,r,t,n)}removeAttribute(e,r,t){this.delegate.removeAttribute(e,r,t)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,t,n){this.delegate.setStyle(e,r,t,n)}removeStyle(e,r,t){this.delegate.removeStyle(e,r,t)}setProperty(e,r,t){this.shouldReplay(r)&&this.replay.push(n=>n.setProperty(e,r,t)),this.delegate.setProperty(e,r,t)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,t){return this.shouldReplay(r)&&this.replay.push(n=>n.listen(e,r,t)),this.delegate.listen(e,r,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(Hm)}},zm=new R("");function cd(i="animations"){return An("NgAsyncAnimations"),Je([{provide:Dn,useFactory:(e,r,t)=>new $m(e,r,t,i),deps:[ee,Gn,X]},{provide:vs,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Wo;try{Wo=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Wo=!1}var yn=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?it(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Wo)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(n){return new(n||e)(w(pe))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var _n;function Wm(){if(_n==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>_n=!0}))}finally{_n=_n||!1}return _n}function Go(i){return Wm()?i:!!i.capture}function ld(i){return i.composedPath?i.composedPath()[0]:i.target}function dd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function qo(i){return Array.isArray(i)?i:[i]}function Ko(i){return i instanceof we?i.nativeElement:i}var hd=new Set,$t,Gm=(()=>{let e=class e{constructor(t,n){this._platform=t,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Km}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&qm(t,this._nonce),this._matchMedia(t)}};e.\u0275fac=function(n){return new(n||e)(w(yn),w(Ci,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function qm(i,e){if(!hd.has(i))try{$t||($t=document.createElement("style"),e&&$t.setAttribute("nonce",e),$t.setAttribute("type","text/css"),document.head.appendChild($t)),$t.sheet&&($t.sheet.insertRule(`@media ${i} {body{ }}`,0),hd.add(i))}catch(r){console.error(r)}}function Km(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var md=(()=>{let e=class e{constructor(t,n){this._mediaMatcher=t,this._zone=n,this._queries=new Map,this._destroySubject=new _e}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return pd(qo(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let s=pd(qo(t)).map(a=>this._registerQuery(a).observable),o=ut(s);return o=Cn(o.pipe(ze(1)),o.pipe(ma(1),In(0))),o.pipe(k(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:m})=>{l.matches=l.matches||c,l.breakpoints[m]=c}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let n=this._mediaMatcher.matchMedia(t),o={observable:new vi(a=>{let l=c=>this._zone.run(()=>a.next(c));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(Tn(n),k(({matches:a})=>({query:t,matches:a})),En(this._destroySubject)),mql:n};return this._queries.set(t,o),o}};e.\u0275fac=function(n){return new(n||e)(w(Gm),w(X))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function pd(i){return i.map(e=>e.split(",")).reduce((e,r)=>e.concat(r)).map(e=>e.trim())}function vd(i){return i.buttons===0||i.detail===0}function bd(i){let e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var zt=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(zt||{}),fd="cdk-high-contrast-black-on-white",gd="cdk-high-contrast-white-on-black",Qo="cdk-high-contrast-active",_d=(()=>{let e=class e{constructor(t,n){this._platform=t,this._document=n,this._breakpointSubscription=_(md).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return zt.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let n=this._document.defaultView||window,s=n&&n.getComputedStyle?n.getComputedStyle(t):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return zt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return zt.BLACK_ON_WHITE}return zt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Qo,fd,gd),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===zt.BLACK_ON_WHITE?t.add(Qo,fd):n===zt.WHITE_ON_BLACK&&t.add(Qo,gd)}}};e.\u0275fac=function(n){return new(n||e)(w(yn),w(ee))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Zo=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Q({});let i=e;return i})();function ef(){return!0}var tf=new R("mat-sanity-checks",{providedIn:"root",factory:ef}),Xo=(()=>{let e=class e{constructor(t,n,s){this._sanityChecks=n,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return dd()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}};e.\u0275fac=function(n){return new(n||e)(w(_d),w(tf,8),w(ee))},e.\u0275mod=Z({type:e}),e.\u0275inj=Q({imports:[Zo,Zo]});let i=e;return i})();var Ue=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(Ue||{}),Yo=class{constructor(e,r,t,n=!1){this._renderer=e,this.element=r,this.config=t,this._animationForciblyDisabledThroughCss=n,this.state=Ue.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},yd=Go({passive:!0,capture:!0}),Jo=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let r=ld(e);r&&this._events.get(e.type)?.forEach((t,n)=>{(n===r||n.contains(r))&&t.forEach(s=>s.handleEvent(e))})}}addHandler(e,r,t,n){let s=this._events.get(r);if(s){let o=s.get(t);o?o.add(n):s.set(t,new Set([n]))}else this._events.set(r,new Map([[t,new Set([n])]])),e.runOutsideAngular(()=>{document.addEventListener(r,this._delegateEventHandler,yd)})}removeHandler(e,r,t){let n=this._events.get(e);if(!n)return;let s=n.get(r);s&&(s.delete(t),s.size===0&&n.delete(r),n.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,yd)))}},wd={enterDuration:225,exitDuration:150},nf=800,Cd=Go({passive:!0,capture:!0}),Id=["mousedown","touchstart"],Sd=["mouseup","mouseleave","touchend","touchcancel"],wn=class wn{constructor(e,r,t,n){this._target=e,this._ngZone=r,this._platform=n,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,n.isBrowser&&(this._containerElement=Ko(t))}fadeInRipple(e,r,t={}){let n=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=y(y({},wd),t.animation);t.centered&&(e=n.left+n.width/2,r=n.top+n.height/2);let o=t.radius||rf(e,r,n),a=e-n.left,l=r-n.top,c=s.enterDuration,m=document.createElement("div");m.classList.add("mat-ripple-element"),m.style.left=`${a-o}px`,m.style.top=`${l-o}px`,m.style.height=`${o*2}px`,m.style.width=`${o*2}px`,t.color!=null&&(m.style.backgroundColor=t.color),m.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(m);let f=window.getComputedStyle(m),h=f.transitionProperty,v=f.transitionDuration,g=h==="none"||v==="0s"||v==="0s, 0s"||n.width===0&&n.height===0,x=new Yo(this,m,t,g);m.style.transform="scale3d(1, 1, 1)",x.state=Ue.FADING_IN,t.persistent||(this._mostRecentTransientRipple=x);let T=null;return!g&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let M=()=>{T&&(T.fallbackTimer=null),clearTimeout(D),this._finishRippleTransition(x)},Y=()=>this._destroyRipple(x),D=setTimeout(Y,c+100);m.addEventListener("transitionend",M),m.addEventListener("transitioncancel",Y),T={onTransitionEnd:M,onTransitionCancel:Y,fallbackTimer:D}}),this._activeRipples.set(x,T),(g||!c)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(e.state===Ue.FADING_OUT||e.state===Ue.HIDDEN)return;let r=e.element,t=y(y({},wd),e.config.animation);r.style.transitionDuration=`${t.exitDuration}ms`,r.style.opacity="0",e.state=Ue.FADING_OUT,(e._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let r=Ko(e);!this._platform.isBrowser||!r||r===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=r,Id.forEach(t=>{wn._eventManager.addHandler(this._ngZone,t,r,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Sd.forEach(r=>{this._triggerElement.addEventListener(r,this,Cd)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ue.FADING_IN?this._startFadeOutTransition(e):e.state===Ue.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let r=e===this._mostRecentTransientRipple,{persistent:t}=e.config;e.state=Ue.VISIBLE,!t&&(!r||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let r=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ue.HIDDEN,r!==null&&(e.element.removeEventListener("transitionend",r.onTransitionEnd),e.element.removeEventListener("transitioncancel",r.onTransitionCancel),r.fallbackTimer!==null&&clearTimeout(r.fallbackTimer)),e.element.remove()}_onMousedown(e){let r=vd(e),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+nf;!this._target.rippleDisabled&&!r&&!t&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!bd(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let r=e.changedTouches;if(r)for(let t=0;t<r.length;t++)this.fadeInRipple(r[t].clientX,r[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let r=e.state===Ue.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ue.FADING_IN;!e.config.persistent&&r&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Id.forEach(r=>wn._eventManager.removeHandler(r,e,this)),this._pointerUpEventsRegistered&&(Sd.forEach(r=>e.removeEventListener(r,this,Cd)),this._pointerUpEventsRegistered=!1))}};wn._eventManager=new Jo;var Td=wn;function rf(i,e,r){let t=Math.max(Math.abs(i-r.left),Math.abs(i-r.right)),n=Math.max(Math.abs(e-r.top),Math.abs(e-r.bottom));return Math.sqrt(t*t+n*n)}var Ed=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Z({type:e}),e.\u0275inj=Q({imports:[Xo,Xo]});let i=e;return i})();var ss=class i{intercept(e,r){let t=sessionStorage.getItem("access_token");if(t&&t!=""&&t!="null"){let n=e.clone({headers:e.headers.set("Authorization","Bearer "+t)});return console.log("MyAuthInterceptor , adding Bearer token="+t),r.handle(n)}else return r.handle(e)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=I({token:i,factory:i.\u0275fac})};var os=class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=Z({type:i,bootstrap:[rs]});static \u0275inj=Q({providers:[Cc(),dc(uc()),cd(),{provide:Ri,useClass:ss,multi:!0}],imports:[yc,ts,ol,al,Ed,od.forRoot()]})};_c().bootstrapModule(os,{ngZoneEventCoalescing:!0}).catch(i=>console.error(i));
